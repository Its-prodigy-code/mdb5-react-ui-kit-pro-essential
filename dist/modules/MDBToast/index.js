"use strict";var e=require("react"),t=require("react-dom"),r=require("clsx");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(e),a=n(t),l=n(r),i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}var c=o.default.forwardRef((function(e,t){var r=e.className,n=e.color,a=e.children,c=s(e,["className","color","children"]),u=l.default("toast-header",n&&"bg-"+n,n&&"light"!==n&&"text-white",r);return o.default.createElement("div",i({className:u,ref:t},c),a)})),u=o.default.forwardRef((function(e,t){var r=e.className,n=e.children,a=e.color,c=s(e,["className","children","color"]),u=l.default("toast-body",a&&"light"!==a&&"text-white",r);return o.default.createElement("div",i({className:u,ref:t},c),n)})),f=function(t){var r=s(t,[]),n=e.useState(!1),a=n[0],c=n[1],u=l.default("ripple-wave",a&&"active");return e.useEffect((function(){var e=setTimeout((function(){c(!0)}),50);return function(){clearTimeout(e)}}),[]),o.default.createElement("div",i({className:u},r))},d=o.default.forwardRef((function(t,r){var n=t.className,a=t.rippleTag,c=t.rippleCentered,u=t.rippleDuration,d=t.rippleUnbound,p=t.rippleRadius,m=t.rippleColor,h=t.children,b=t.onClick,g=s(t,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onClick"]),v=[0,0,0],y=["primary","secondary","success","danger","warning","info","light","dark"],w=e.useState([]),C=w[0],E=w[1],k=e.useState(!1),N=k[0],x=k[1],R=l.default("ripple","ripple-surface",d&&"ripple-surface-unbound",N&&"ripple-surface-"+m,n),T=function(){if(y.find((function(e){return e===(null==m?void 0:m.toLowerCase())})))return x(!0);var e=O(m).join(",");return"radial-gradient(circle, "+"rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join(""+e)+")"},O=function(e){return"transparent"===e.toLowerCase()?v:"#"===e[0]?function(e){return e.length<7&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}(e):(-1===e.indexOf("rgb")&&(e=function(e){var t=document.body.appendChild(document.createElement("fictum")),r="rgb(1, 2, 3)";return t.style.color=r,t.style.color!==r?v:(t.style.color=e,t.style.color===r||""===t.style.color?v:(e=getComputedStyle(t).color,document.body.removeChild(t),e))}(e)),0===e.indexOf("rgb")?function(e){return(e=e.match(/[.\d]+/g).map((function(e){return+Number(e)}))).length=3,e}(e):v)},S=function(e){var t=e.target.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top,o=t.height,a=t.width,l=u&&.5*u,s=u&&u-.5*u,f=function(e){var t=e.offsetX,r=e.offsetY,n=e.height,o=e.width,a=r<=n/2,l=t<=o/2,i=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},s=r===n/2&&t===o/2,c=!0===a&&!1===l,u=!0===a&&!0===l,f=!1===a&&!0===l,d=!1===a&&!1===l,p={topLeft:i(t,r),topRight:i(o-t,r),bottomLeft:i(t,n-r),bottomRight:i(o-t,n-r)},m=0;return s||d?m=p.topLeft:f?m=p.topRight:u?m=p.bottomRight:c&&(m=p.bottomLeft),2*m}({offsetX:c?o/2:r,offsetY:c?a/2:n,height:o,width:a}),d=p||f/2,m={left:c?a/2-d+"px":r-d+"px",top:c?o/2-d+"px":n-d+"px",height:p?2*p+"px":f+"px",width:p?2*p+"px":f+"px",transitionDelay:"0s, "+l+"ms",transitionDuration:u+"ms, "+s+"ms"};return N?m:i(i({},m),{backgroundImage:""+T()})};return e.useEffect((function(){var e=setTimeout((function(){C.length>0&&E(C.splice(1,C.length-1))}),u);return function(){clearTimeout(e)}}),[u,C]),o.default.createElement(a,i({className:R,onClick:function(e){return function(e){var t=S(e),r=C.concat(t);E(r),b&&b(e)}(e)},ref:r},g),h,C.map((function(e,t){return o.default.createElement(f,{key:t,style:e})})))}));d.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var p=o.default.forwardRef((function(t,r){var n,a=t.className,c=t.color,u=t.outline,f=t.children,p=t.rounded,m=t.disabled,h=t.floating,b=t.size,g=t.href,v=t.block,y=t.active,w=t.toggle,C=t.noRipple,E=t.tag,k=s(t,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),N=e.useState(y||!1),x=N[0],R=N[1],T=c&&["light","link"].includes(c)||u?"dark":"light";n="none"!==c?u?c?"btn-outline-"+c:"btn-outline-primary":c?"btn-"+c:"btn-primary":"";var O=l.default("none"!==c&&"btn",n,p&&"btn-rounded",h&&"btn-floating",b&&"btn-"+b,(g||"button"!==E)&&m?"disabled":"",v&&"btn-block",x&&"active",a);return g&&"a"!==E&&(E="a"),["hr","img","input"].includes(E)||C?o.default.createElement(E,i({className:O,onClick:w?function(){R(!x)}:void 0,disabled:!(!m||"button"!==E)||void 0,href:g,ref:r},k),f):o.default.createElement(d,i({rippleTag:E,rippleColor:T,className:O,onClick:w?function(){R(!x)}:void 0,disabled:!(!m||"button"!==E)||void 0,href:g,ref:r},k),f)}));p.defaultProps={tag:"button",role:"button",color:"primary"};var m=o.default.forwardRef((function(e,t){var r=e.className,n=e.white,a=e.children,c=s(e,["className","white","children"]),u=l.default("btn-close",n&&"btn-close-white",r);return o.default.createElement(p,i({className:u,color:"none",ref:t},c),a)})),h=function(t){var r=t.className,n=t.position,f=t.delay,d=t.autohide,p=t.width,h=t.containerRef,b=t.toastRef,g=t.offset,v=t.stacking,y=t.appendToBody,w=t.color,C=t.triggerRef,E=t.show,k=t.bodyContent,N=t.headerContent,x=t.bodyClasses,R=t.headerClasses,T=t.closeBtnClasses,O=s(t,["className","position","delay","autohide","width","containerRef","toastRef","offset","stacking","appendToBody","color","triggerRef","show","bodyContent","headerContent","bodyClasses","headerClasses","closeBtnClasses"]),S=e.useState(E),L=S[0],j=S[1],P=e.useState(E),I=P[0],q=P[1],B=e.useState({}),D=B[0],M=B[1],X=e.useState(L?"block":"none"),Y=X[0],z=X[1],A=e.useState(0),U=A[0],F=A[1],G=e.useRef(null),H=b||G,J=l.default("toast","fade",n&&!h&&"toast-fixed",n&&"toast-"+n,h&&"toast-absolute",w&&"bg-"+w,L&&I&&"show",v&&"stacking-toast",r);e.useEffect((function(){var e,t;if(n){var r=n.split("-")[0],o=n.split("-")[1],a="top"===r?"bottom":"top",l="left"===o?"right":"left";M("center"===o?((e={})[r]=(g&&g+U)+"px",e.left="50%",e[a]="unset",e.transform="translate(-50%)",e):((t={})[r]=(g&&g+U)+"px",t[o]=g+"px",t[a]="unset",t[l]="unset",t.transform="unset",t))}}),[g,n,U]);e.useEffect((function(){if(v&&L){var e=document.querySelectorAll(".toast-"+n),t=0,r=h?"toast-absolute":"toast-fixed",o=Array.from(e).filter((function(e){return e.classList.contains("show")&&e!==H.current&&e.classList.contains(r)&&e.classList.contains("stacking-toast")}));if(o.length>0){var a=void 0;a="top"===(null==n?void 0:n.split("-")[0])?o[o.length-1].style.top:o[o.length-1].style.bottom;var l=parseInt(a.split("px")[0]);t=g?l+g:l}F(t)}}),[v,L,H,U,g,n,h]);var K=e.useCallback((function(){j(!0)}),[]);e.useEffect((function(){L&&z("block"),L||I||z("none")}),[L,I]),e.useEffect((function(){j(E)}),[E]),e.useEffect((function(){if(null!=C){var e=C.current;return C.current.addEventListener("click",K),function(){e.removeEventListener("click",K)}}}),[C,K]),e.useEffect((function(){null!=h&&h.current.classList.add("parent-toast-relative")}),[h]),e.useEffect((function(){var e;return d&&L&&(e=setTimeout((function(){j(!1)}),f)),function(){clearTimeout(e)}}),[d,L,f]),e.useEffect((function(){var e,t;return L?e=setTimeout((function(){q(!0)}),100):L||(t=setTimeout((function(){q(!1)}),100)),function(){clearTimeout(e),clearTimeout(t)}}),[L,d]);var Q=o.default.createElement("div",i({className:J,ref:H,style:i(i({},D),{width:"unset"===p?p:p+"px",display:Y})},O),N&&o.default.createElement(c,{className:R,color:w},N,o.default.createElement(m,{onClick:function(){j(!1)},className:T,white:!(!w||"light"===w)})),o.default.createElement(u,{className:x,color:w},k));return L||I?y?a.default.createPortal(Q,document.body):Q:o.default.createElement(o.default.Fragment,null)};h.defaultProps={offset:10,width:"width",delay:1e3,show:!1},module.exports=h;
