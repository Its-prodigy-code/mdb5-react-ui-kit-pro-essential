import e from"clsx";import t,{useRef as n,useState as i,useEffect as r,useCallback as a,useContext as o}from"react";import l from"react-dom";import{usePopper as c}from"react-popper";var u=function(){return u=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)};function m(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}var s=function(o){var l,c=o.className,s=o.size,d=o.contrast,p=o.value,f=o.defaultValue,v=o.id,h=o.labelId,b=o.labelClass,x=o.wrapperClass,g=o.wrapperStyle,k=o.wrapperTag,M=o.label,y=o.onChange,E=o.children,N=o.labelRef,w=o.labelStyle,C=o.inputRef,I=o.textarea,P=o.validation,A=o.invalid,L=o.validationTooltip,T=o.btnClasses,H=o.btnOnClick,R=o.btnRef,O=o.onBlur,j=o.readonly,V=o.btn,D=o.btnType,S=m(o,["className","size","contrast","value","defaultValue","id","labelId","labelClass","wrapperClass","wrapperStyle","wrapperTag","label","onChange","children","labelRef","labelStyle","inputRef","textarea","validation","invalid","validationTooltip","btnClasses","btnOnClick","btnRef","onBlur","readonly","btn","btnType"]),z=n(null),W=n(null),B=n(null),F=n(null),U=N||z,Y=R||W,X=C||(I?F:B),q=i(p||f),$=q[0],Z=q[1],G=i(0),J=G[0],K=G[1],Q=i(void 0!==p&&p.length>0||(void 0!==f&&f.length)>0),_=Q[0],ee=Q[1],te=e("form-outline",d&&"form-white",x),ne=e("form-control",_&&"active",s&&"form-control-"+s,c),ie=e("form-label",b),re=e(P&&(A?"invalid-"+(L?"tooltip":"feedback"):"valid-"+(L?"tooltip":"feedback")));r((function(){var e;U.current&&0!==(null===(e=U.current)||void 0===e?void 0:e.clientWidth)&&K(.8*U.current.clientWidth+8)}),[U,null===(l=U.current)||void 0===l?void 0:l.clientWidth]);var ae=function(){U.current&&K(.8*U.current.clientWidth+8)};r((function(){void 0!==p&&(p.length>0?ee(!0):ee(!1))}),[p]),r((function(){void 0!==f&&(f.length>0?ee(!0):ee(!1))}),[f]);var oe=function(e){Z(e.currentTarget.value),y&&y(e)},le=a((function(e){void 0!==$&&$.length>0||void 0!==p&&p.length>0?ee(!0):ee(!1),O&&O(e)}),[$,p,O]);return t.createElement(k,{className:te,style:u({},g)},I?t.createElement("textarea",u({readOnly:j,className:ne,onBlur:le,onChange:oe,onFocus:ae,defaultValue:f,value:p,id:v,ref:X},S)):t.createElement("input",u({readOnly:j,className:ne,onBlur:le,onChange:oe,onFocus:ae,value:p,defaultValue:f,id:v,ref:X},S)),M&&t.createElement("label",{className:ie,style:w,id:h,htmlFor:v,ref:U},M),P&&t.createElement("div",{className:re},P),t.createElement("div",{className:"form-notch"},t.createElement("div",{className:"form-notch-leading"}),t.createElement("div",{className:"form-notch-middle",style:{width:J}}),t.createElement("div",{className:"form-notch-trailing"})),V&&t.createElement("button",{ref:Y,type:D,className:T,onClick:H},V),E)};s.defaultProps={wrapperTag:"div",btnType:"button",readonly:!1};var d=function(n){var a=m(n,[]),o=i(!1),l=o[0],c=o[1],s=e("ripple-wave",l&&"active");return r((function(){var e=setTimeout((function(){c(!0)}),50);return function(){clearTimeout(e)}}),[]),t.createElement("div",u({className:s},a))},p=t.forwardRef((function(n,a){var o=n.className,l=n.rippleTag,c=n.rippleCentered,s=n.rippleDuration,p=n.rippleUnbound,f=n.rippleRadius,v=n.rippleColor,h=n.children,b=n.onClick,x=m(n,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onClick"]),g=[0,0,0],k=["primary","secondary","success","danger","warning","info","light","dark"],M=i([]),y=M[0],E=M[1],N=i(!1),w=N[0],C=N[1],I=e("ripple","ripple-surface",p&&"ripple-surface-unbound",w&&"ripple-surface-"+v,o),P=function(){if(k.find((function(e){return e===(null==v?void 0:v.toLowerCase())})))return C(!0);var e=A(v).join(",");return"radial-gradient(circle, "+"rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join(""+e)+")"},A=function(e){return"transparent"===e.toLowerCase()?g:"#"===e[0]?function(e){return e.length<7&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}(e):(-1===e.indexOf("rgb")&&(e=function(e){var t=document.body.appendChild(document.createElement("fictum")),n="rgb(1, 2, 3)";return t.style.color=n,t.style.color!==n?g:(t.style.color=e,t.style.color===n||""===t.style.color?g:(e=getComputedStyle(t).color,document.body.removeChild(t),e))}(e)),0===e.indexOf("rgb")?function(e){return(e=e.match(/[.\d]+/g).map((function(e){return+Number(e)}))).length=3,e}(e):g)},L=function(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top,r=t.height,a=t.width,o=s&&.5*s,l=s&&s-.5*s,m=function(e){var t=e.offsetX,n=e.offsetY,i=e.height,r=e.width,a=n<=i/2,o=t<=r/2,l=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},c=n===i/2&&t===r/2,u=!0===a&&!1===o,m=!0===a&&!0===o,s=!1===a&&!0===o,d=!1===a&&!1===o,p={topLeft:l(t,n),topRight:l(r-t,n),bottomLeft:l(t,i-n),bottomRight:l(r-t,i-n)},f=0;return c||d?f=p.topLeft:s?f=p.topRight:m?f=p.bottomRight:u&&(f=p.bottomLeft),2*f}({offsetX:c?r/2:n,offsetY:c?a/2:i,height:r,width:a}),d=f||m/2,p={left:c?a/2-d+"px":n-d+"px",top:c?r/2-d+"px":i-d+"px",height:f?2*f+"px":m+"px",width:f?2*f+"px":m+"px",transitionDelay:"0s, "+o+"ms",transitionDuration:s+"ms, "+l+"ms"};return w?p:u(u({},p),{backgroundImage:""+P()})};return r((function(){var e=setTimeout((function(){y.length>0&&E(y.splice(1,y.length-1))}),s);return function(){clearTimeout(e)}}),[s,y]),t.createElement(l,u({className:I,onClick:function(e){return function(e){var t=L(e),n=y.concat(t);E(n),b&&b(e)}(e)},ref:a},x),h,y.map((function(e,n){return t.createElement(d,{key:n,style:e})})))}));p.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var f=t.forwardRef((function(n,r){var a=n.className,o=n.color,l=n.outline,c=n.children,s=n.rounded,d=n.disabled,f=n.floating,v=n.size,h=n.href,b=n.block,x=n.active,g=n.toggle,k=n.noRipple,M=n.tag,y=m(n,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),E=i(x||!1),N=E[0],w=E[1],C=o&&["light","link"].includes(o)||l?"dark":"light",I=e("none"!==o&&"btn","none"!==o?l?o?"btn-outline-"+o:"btn-outline-primary":o?"btn-"+o:"btn-primary":"",s&&"btn-rounded",f&&"btn-floating",v&&"btn-"+v,(h||"button"!==M)&&d?"disabled":"",b&&"btn-block",N&&"active",a);return h&&"a"!==M&&(M="a"),["hr","img","input"].includes(M)||k?t.createElement(M,u({className:I,onClick:g?function(){w(!N)}:void 0,disabled:!(!d||"button"!==M)||void 0,href:h,ref:r},y),c):t.createElement(p,u({rippleTag:M,rippleColor:C,className:I,onClick:g?function(){w(!N)}:void 0,disabled:!(!d||"button"!==M)||void 0,href:h,ref:r},y),c)}));f.defaultProps={tag:"button",role:"button",color:"primary"};var v=function(n){var i=n.className,r=n.icon,a=n.fab,o=n.fas,l=n.fal,c=n.far,s=n.flag,d=n.spin,p=n.fixed,f=n.flip,v=n.list,h=n.size,b=n.pull,x=n.pulse,g=n.color,k=n.border,M=n.rotate,y=n.inverse,E=n.stack,N=n.children,w=m(n,["className","icon","fab","fas","fal","far","flag","spin","fixed","flip","list","size","pull","pulse","color","border","rotate","inverse","stack","children"]),C=e(s?"flag":a?"fab":o?"fas":c?"far":l?"fal":"fa",s?"flag-"+s:r&&"fa-"+r,h&&"fa-"+h,g&&"text-"+g,k&&"fa-border",M&&"fa-rotate-"+M,b&&"fa-pull-"+b,d&&"fa-spin",v&&"fa-li",p&&"fa-fw",x&&"fa-pulse",y&&"fa-inverse",f&&"fa-flip-"+f,E&&"fa-stack-"+E,i);return t.createElement("i",u({className:C},w),N)},h=t.createContext({isPickerOpened:!1,setIsPickerOpened:null,setInputValue:null,setActiveHour:null,setActiveMinute:null,setPeriod:null,setMode:null,setHandAnimation:null,setMinuteAngle:null,setHourAngle:null,submitLabel:"",clearLabel:"",cancelLabel:"",activeHour:12,activeMinute:12,format:"12h",period:"",defaultValue:"",minHour:0,maxHour:23,minPeriod:"",maxPeriod:"",mode:"hours",handAnimation:!1,maxMinute:59,minMinute:0,minuteAngle:360,hourAngle:360,inline:!1,increment:!1}),b=function(e){var t=e.split(":"),n=t[0],i=t[1].split(" ")[1],r=t[1].split(" ")[0];return{hour:parseInt(n),minute:parseInt(r),defaultPeriod:i}},x=function(e,t){return("24h"===t?/^([01]\d|2[0-3])(:[0-5]\d)$/:/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/).test(e)},g=function(e,t,n,i,r,a){var o=!1;return t&&(""!==r?e>t&&i===r&&(o=!0):e>t&&(o=!0)),n&&(""!==a?e<n&&i===a&&(o=!0):e<n&&(o=!0)),o},k=function(e,t){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},M=function(e,t){var n=2*Math.atan2(t.y-e.y-k(e,t),t.x-e.x);return Math.abs(180*n/Math.PI)},y=function(e){return{radius:(e-32)/2-4}},E=t.forwardRef((function(e,n){var i=m(e,[]),r=o(h),a=r.activeHour,l=r.format,c=r.period,s=r.setPeriod,d=r.mode,p=r.setMode,b=r.activeMinute,x=r.setHandAnimation,k=r.inline,M=r.setActiveHour,y=r.setActiveMinute,E=r.maxHour,N=r.maxMinute,w=r.minHour,C=r.minMinute,I=r.maxPeriod,P=r.minPeriod,A=r.setInputValue,L=r.setIsPickerOpened,T=r.increment,H=r.submitLabel,R=function(e){p(e),x(!0)},O=function(e){var t="12h"===l?12:24;M(e?a===t?1:a+1:1===a?t:a-1)},j=function(e){var t=T?55:59,n=T?5:1;y(e?b>=t?0:b+n:b<=0?t:b-n)};return k?t.createElement("div",u({className:"timepicker-head d-flex flex-row align-items-center justify-content-center timepicker-head-inline",style:{paddingRight:"0px"},ref:n},i),t.createElement("div",{className:"timepicker-head-content d-flex w-100 justify-content-evenly align-items-center"},t.createElement("div",{className:"timepicker-current-wrapper"},t.createElement("span",{className:"position-relative h-100 timepicker-inline-hour-icons"},t.createElement(v,{fas:!0,icon:"chevron-up",className:"position-absolute text-white timepicker-icon-up timepicker-icon-inline-hour",onClick:function(){return O(!0)}}),t.createElement(f,{type:"button",color:"none",onClick:function(){return R("hours")},className:"timepicker-current timepicker-current-inline timepicker-hour "+("hours"===d&&"active"),tabIndex:0,style:{pointerEvents:"hours"===d?"none":""}},24===a?"00":a<10?"0"+a:a),t.createElement(v,{fas:!0,icon:"chevron-down",className:"position-absolute text-white timepicker-icon-down timepicker-icon-inline-hour",onClick:function(){return O(!1)}})),t.createElement(f,{color:"none",className:"timepicker-dot timepicker-current-inline",disabled:!0},":"),t.createElement("span",{className:"position-relative h-100 timepicker-inline-minutes-icons"},t.createElement(v,{fas:!0,icon:"chevron-up",className:"position-absolute text-white timepicker-icon-up timepicker-icon-inline-minute",onClick:function(){return j(!0)}}),t.createElement(f,{onClick:function(){return R("minutes")},type:"button",color:"none",className:"timepicker-current timepicker-current-inline timepicker-minute "+("minutes"===d&&"active"),tabIndex:0,style:{pointerEvents:"minutes"===d?"none":""}},b<10?"0"+b:b),t.createElement(v,{fas:!0,icon:"chevron-down",className:"position-absolute text-white timepicker-icon-down timepicker-icon-inline-minute",onClick:function(){return j(!1)}}))),t.createElement("div",{className:"d-flex justify-content-center timepicker-mode-wrapper"},"12h"===l&&t.createElement(t.Fragment,null,t.createElement(f,{onClick:function(){return s("AM")},type:"button",color:"none",className:"timepicker-hour-mode timepicker-am me-2 ms-4 "+("AM"===c&&"active"),tabIndex:0},"AM"),t.createElement(f,{onClick:function(){return s("PM")},type:"button",color:"none",className:"timepicker-hour-mode timepicker-pm "+("PM"===c&&"active"),tabIndex:0},"PM")),t.createElement(f,{type:"button",color:"none",className:"timepicker-button timepicker-submit timepicker-submit-inline py-1 px-2 mb-0",tabIndex:0,onClick:function(){g(a,E,w,c,I,P)||g(b,N,C,c,I,P)||(L(!1),A(((24===a?"00":a<10?"0"+a:a)+":"+(b<10?"0"+b:b)+" "+c).trim()))}},H)))):t.createElement("div",u({className:"timepicker-head d-flex flex-row align-items-center justify-content-center",style:{paddingRight:"0px"},ref:n},i),t.createElement("div",{className:"timepicker-head-content d-flex w-100 justify-content-evenly",style:{paddingRight:"24h"===l?"50px":""}},t.createElement("div",{className:"timepicker-current-wrapper"},t.createElement("span",{className:"position-relative h-100"},t.createElement(f,{type:"button",color:"none",onClick:function(){return R("hours")},className:"timepicker-current timepicker-hour "+("hours"===d&&"active"),tabIndex:0,style:{pointerEvents:"hours"===d?"none":""}},24===a?"00":a<10?"0"+a:a),t.createElement(f,{color:"none",className:"timepicker-dot",disabled:!0},":")),t.createElement("span",{className:"position-relative h-100"},t.createElement(f,{onClick:function(){return R("minutes")},type:"button",color:"none",className:"timepicker-current timepicker-minute "+("minutes"===d&&"active"),tabIndex:0,style:{pointerEvents:"minutes"===d?"none":""}},b<10?"0"+b:b))),"12h"===l&&t.createElement("div",{className:"d-flex flex-column justify-content-center timepicker-mode-wrapper"},t.createElement(f,{onClick:function(){return s("AM")},type:"button",color:"none",className:"timepicker-hour-mode timepicker-am "+("AM"===c&&"active"),tabIndex:0},"AM"),t.createElement(f,{onClick:function(){return s("PM")},type:"button",color:"none",className:"timepicker-hour-mode timepicker-pm "+("PM"===c&&"active"),tabIndex:0},"PM"))))})),N={hours:[{value:1,left:"169px",bottom:"209.263px",angle:30,id:"hour-1-"+Math.floor(1001*Math.random())},{value:2,left:"209.263px",bottom:"169px",angle:60,id:"hour-2-"+Math.floor(1001*Math.random())},{value:3,left:"224px",bottom:"114px",angle:90,id:"hour-3-"+Math.floor(1001*Math.random())},{value:4,left:"209.263px",bottom:"59px",angle:120,id:"hour-4-"+Math.floor(1001*Math.random())},{value:5,left:"169px",bottom:"18.7372px",angle:150,id:"hour-5-"+Math.floor(1001*Math.random())},{value:6,left:"114px",bottom:"4px",angle:180,id:"hour-6-"+Math.floor(1001*Math.random())},{value:7,left:"59px",bottom:"18.7372px",angle:210,id:"hour-7-"+Math.floor(1001*Math.random())},{value:8,left:"18.7372px",bottom:"59px",angle:240,id:"hour-8-"+Math.floor(1001*Math.random())},{value:9,left:"4px",bottom:"114px",angle:270,id:"hour-9-"+Math.floor(1001*Math.random())},{value:10,left:"18.7372px",bottom:"169px",angle:300,id:"hour-10-"+Math.floor(1001*Math.random())},{value:11,left:"59px",bottom:"209.263px",angle:330,id:"hour-11-"+Math.floor(1001*Math.random())},{value:12,left:"114px",bottom:"224px",angle:360,id:"hour-12-"+Math.floor(1001*Math.random())},{value:13,left:"94px",bottom:"115.962px",angle:30,id:"hour-13-"+Math.floor(1001*Math.random())},{value:14,left:"115.962px",bottom:"94px",angle:60,id:"hour-14-"+Math.floor(1001*Math.random())},{value:15,left:"124px",bottom:"64px",angle:90,id:"hour-15-"+Math.floor(1001*Math.random())},{value:16,left:"115.962px",bottom:"34px",angle:120,id:"hour-16-"+Math.floor(1001*Math.random())},{value:17,left:"94px",bottom:"12.0385px",angle:150,id:"hour-17-"+Math.floor(1001*Math.random())},{value:18,left:"64px",bottom:"4px",angle:180,id:"hour-18-"+Math.floor(1001*Math.random())},{value:19,left:"34px",bottom:"12.0385px",angle:210,id:"hour-19-"+Math.floor(1001*Math.random())},{value:20,left:"12.0385px",bottom:"34px",angle:240,id:"hour-20-"+Math.floor(1001*Math.random())},{value:21,left:"4px",bottom:"64px",angle:270,id:"hour-21-"+Math.floor(1001*Math.random())},{value:22,left:"12.0385px",bottom:"94px",angle:300,id:"hour-22-"+Math.floor(1001*Math.random())},{value:23,left:"34px",bottom:"115.962px",angle:330,id:"hour-23-"+Math.floor(1001*Math.random())},{value:24,left:"64px",bottom:"124px",angle:360,id:"hour-0-"+Math.floor(1001*Math.random())}],minutes:[{value:0,left:"114px",bottom:"224px",angle:360,id:"minute-0-"+Math.floor(1001*Math.random())},{value:5,left:"169px",bottom:"209.263px",angle:30,id:"minute-5-"+Math.floor(1001*Math.random())},{value:10,left:"209.263px",bottom:"169px",angle:60,id:"minute-10-"+Math.floor(1001*Math.random())},{value:15,left:"224px",bottom:"114px",angle:90,id:"minute-15-"+Math.floor(1001*Math.random())},{value:20,left:"209.263px",bottom:"59px",angle:120,id:"minute-20-"+Math.floor(1001*Math.random())},{value:25,left:"169px",bottom:"18.7372px",angle:150,id:"minute-25-"+Math.floor(1001*Math.random())},{value:30,left:"114px",bottom:"4px",angle:180,id:"minute-30-"+Math.floor(1001*Math.random())},{value:35,left:"59px",bottom:"18.7372px",angle:210,id:"minute-35-"+Math.floor(1001*Math.random())},{value:40,left:"18.7372px",bottom:"59px",angle:240,id:"minute-40-"+Math.floor(1001*Math.random())},{value:45,left:"4px",bottom:"114px",angle:270,id:"minute-45-"+Math.floor(1001*Math.random())},{value:50,left:"18.7372px",bottom:"169px",angle:300,id:"minute-50-"+Math.floor(1001*Math.random())},{value:55,left:"59px",bottom:"209.263px",angle:330,id:"minute-55-"+Math.floor(1001*Math.random())}]},w=t.forwardRef((function(e,l){var c=m(e,[]),s=n(null),d=n(null),p=i(!1),f=p[0],v=p[1],b=i(0),x=b[0],E=b[1],w=i(0),C=w[0],I=w[1],P=o(h),A=P.setActiveHour,L=P.format,T=P.activeHour,H=P.minHour,R=P.maxHour,O=P.minPeriod,j=P.maxPeriod,V=P.period,D=P.mode,S=P.setMode,z=P.activeMinute,W=P.setActiveMinute,B=P.setHandAnimation,F=P.handAnimation,U=P.maxMinute,Y=P.minMinute,X=P.hourAngle,q=P.setHourAngle,$=P.minuteAngle,Z=P.setMinuteAngle,G=P.increment,J="24h"===L?N.hours:N.hours.filter((function(e){return e.value<13&&0!==e.value})),K=N.minutes,Q=i("calc(40% + 1px)"),_=Q[0],ee=Q[1],te=a(M,[]),ne=a((function(e){var t,n=null===(t=s.current)||void 0===t?void 0:t.getBoundingClientRect(),i=n.width,r=n.top,a=n.left,o="touches"in e?e.touches[0]:e,l={x:i/2,y:-i/2},c={x:o.clientX-a,y:r-o.clientY},u=Math.round(te(l,c)+360)%360;if("hours"===D){var m=30*Math.round(u/30),d=m/30;if("24h"===L){var p=y(x).radius,f=y(C).radius;k(l,c)<(p+f)/2-16&&(d+=12)}g(d,R,H,V,j,O)||(A(d),q(m))}else if(0===u)g(0,U,Y,V,j,O)||(W(0),Z(360));else{var v=G?30:6;d=v*Math.round(u/v);g(d/6,U,Y,V,j,O)||(W(d/6),Z(d))}}),[te,U,Y,j,O,D,V,W,R,H,A,C,x,L,q,Z,G]);return r((function(){s.current&&E(s.current.offsetWidth),d.current&&I(d.current.offsetWidth)}),[]),r((function(){var e,t;return f&&(e=document,t=ne,"mouseup mousemove mouseleave mouseover touchstart touchmove touchend".split(" ").forEach((function(n){e.addEventListener(n,t)}))),function(){!function(e,t,n){t.split(" ").forEach((function(t){e.removeEventListener(t,n)}))}(document,"mouseup mousemove mouseleave mouseover touchstart touchmove touchend",ne)}}),[f,ne]),r((function(){var e=J.find((function(e){return e.value===T}));void 0!==e&&(e.value>12||24===e.value?ee("21.5%"):ee("calc(40% + 1px)"))}),[J,T]),t.createElement("div",u({className:"timepicker-clock-wrapper d-flex justify-content-center flex-column align-items-center",ref:l},c),t.createElement("div",{onMouseDown:function(e){return function(e){e.preventDefault(),v(!0)}(e)},onMouseUp:function(e){return function(e){e.preventDefault(),v(!1),"hours"===D&&(S("minutes"),B(!0))}(e)},ref:s,className:"timepicker-clock timepicker-clock-animation"},t.createElement("span",{className:"timepicker-middle-dot position-absolute"}),t.createElement("div",{className:"timepicker-hand-pointer position-absolute "+(F&&"timepicker-transform"),style:{transform:"rotateZ("+("hours"===D?X:$)+"deg)",height:"hours"===D?_:"calc(40% + 1px)"}},t.createElement("div",{className:"timepicker-circle position-absolute",style:{backgroundColor:"rgb(25, 118, 210)"}})),"hours"===D&&"24h"===L&&t.createElement("div",{ref:d,className:"timepicker-clock-inner"},J.map((function(e){if(e.value>12||0===e.value)return t.createElement("span",{id:e.id,key:e.id,className:"timepicker-time-tips-inner "+(g(e.value,R,H,V,j,O)&&"disabled")+" "+(e.value===T&&"active"),style:{left:e.left,bottom:e.bottom}},t.createElement("span",{className:"timepicker-tips-inner-element"},24===e.value?"00":e.value))}))),"hours"===D&&J.map((function(e){return"24h"!==L||e.value<13&&0!==e.value?t.createElement("span",{id:e.id,key:e.id,className:"timepicker-time-tips-hours "+(g(e.value,R,H,V,j,O)&&"disabled")+" "+(e.value===T&&"active"),style:{left:e.left,bottom:e.bottom}},t.createElement("span",{className:"timepicker-tips-element"},e.value)):void 0})),"minutes"===D&&K.map((function(e){return t.createElement("span",{id:e.id,key:e.id,className:"timepicker-time-tips-minutes "+(g(e.value,U,Y,V,j,O)&&"disabled")+" "+(z===e.value&&"active"),style:{left:e.left,bottom:e.bottom}},t.createElement("span",{className:"timepicker-tips-element"},e.value<10?"0"+e.value:e.value))}))))})),C=t.forwardRef((function(e,n){var i=m(e,[]),r=o(h),a=r.setIsPickerOpened,l=r.setInputValue,c=r.cancelLabel,s=r.submitLabel,d=r.clearLabel,p=r.activeHour,v=r.period,x=r.activeMinute,k=r.maxHour,M=r.maxMinute,y=r.minHour,E=r.minMinute,N=r.maxPeriod,w=r.minPeriod,C=r.defaultValue,I=r.setActiveHour,P=r.setActiveMinute,A=r.setPeriod,L=r.format,T=r.setHourAngle,H=r.setMinuteAngle;return t.createElement("div",u({className:"timepicker-footer",ref:n},i),t.createElement("div",{className:"w-100 d-flex justify-content-between"},t.createElement(f,{onClick:function(){if(""!==C&&void 0!==C){var e=b(C),t=e.hour,n=e.minute,i=e.defaultPeriod;"24h"===L?(I(0===t?24:t),T(0===t?360:t>12?30*(t-12):30*t)):(I(t),T(30*t),A(i)),P(n),H(6*n),l(C)}else I(12),T(360),P(0),H(360),l(""),A("24h"===L?"":"AM")},type:"button",color:"none",className:"timepicker-button timepicker-clear",tabIndex:0},d),t.createElement(f,{onClick:function(){return a(!1)},type:"button",color:"none",className:"timepicker-button timepicker-cancel",tabIndex:0},c),t.createElement(f,{onClick:function(){g(p,k,y,v,N,w)||g(x,M,E,v,N,w)||(a(!1),l(((24===p?"00":p<10?"0"+p:p)+":"+(x<10?"0"+x:x)+" "+v).trim()))},type:"button",color:"none",className:"timepicker-button timepicker-submit",tabIndex:0},s)))})),I=t.forwardRef((function(o,d){var p=o.className,f=o.defaultValue,v=o.minHour,g=o.maxHour,k=o.maxTime,M=o.minTime,y=o.noIcon,N=o.showRef,I=o.inputID,P=o.justInput,A=o.inputClasses,L=o.inputLabel,T=o.invalidLabel,H=o.clearLabel,R=o.submitLabel,O=o.cancelLabel,j=o.format,V=o.timePickerClasses,D=o.customIcon,S=o.customIconSize,z=o.btnIcon,W=o.inline,B=o.increment,F=o.inlinePickerTag,U=o.inputWrapperTag,Y=o.getValue,X=m(o,["className","defaultValue","minHour","maxHour","maxTime","minTime","noIcon","showRef","inputID","justInput","inputClasses","inputLabel","invalidLabel","clearLabel","submitLabel","cancelLabel","format","timePickerClasses","customIcon","customIconSize","btnIcon","inline","increment","inlinePickerTag","inputWrapperTag","getValue"]),q=i(!1),$=q[0],Z=q[1],G=i(!1),J=G[0],K=G[1],Q=i(""),_=Q[0],ee=Q[1],te=i(!1),ne=te[0],ie=te[1],re=i(12),ae=re[0],oe=re[1],le=i(0),ce=le[0],ue=le[1],me=i("24h"===j?"":"AM"),se=me[0],de=me[1],pe=i(g||24),fe=pe[0],ve=pe[1],he=i(v||1),be=he[0],xe=he[1],ge=i(59),ke=ge[0],Me=ge[1],ye=i(0),Ee=ye[0],Ne=ye[1],we=i(""),Ce=we[0],Ie=we[1],Pe=i(""),Ae=Pe[0],Le=Pe[1],Te=i("hours"),He=Te[0],Re=Te[1],Oe=i(!1),je=Oe[0],Ve=Oe[1],De=i(360),Se=De[0],ze=De[1],We=i(360),Be=We[0],Fe=We[1],Ue=i(null),Ye=Ue[0],Xe=Ue[1],qe=i(null),$e=qe[0],Ze=qe[1],Ge=i(0),Je=Ge[0],Ke=Ge[1],Qe={input:L||"Select a time",invalid:T||"Invalid Time Format",clear:H||"Clear",submit:R||"Ok",cancel:O||"Cancel"},_e=e("timepicker",p),et=e("timepicker-modal",V),tt=I||"timepicker-input-"+Math.floor(10001*Math.random()),nt=e("timepicker-wrapper","h-100","d-flex","align-items-center","justify-content-center","flex-column",W?"timepicker-wrapper-inline":"position-fixed",$&&"animation","fade",J&&$&&"show"),it=c(Ye,$e,{placement:"bottom-start"}),rt=it.styles,at=it.attributes,ot=e("timepicker-input",ne&&"is-invalid",A),lt=n(null),ct=n(null),ut=n(null),mt=a((function(){Z(!0)}),[]),st=a((function(e){var t,n,i,r;W||e.target!==ct.current||Z(!1),!W||e.target===ct.current||(null===(t=ct.current)||void 0===t?void 0:t.contains(e.target))||e.target===(null===(n=ut.current)||void 0===n?void 0:n.parentNode)||(null===(r=null===(i=ut.current)||void 0===i?void 0:i.parentNode)||void 0===r?void 0:r.contains(e.target))||Z(!1)}),[ct,W,ut]),dt=a((function(e){var t,n=e.key;(e.preventDefault(),"Escape"===n&&Z(!1),"ArrowUp"===n&&"hours"===He)&&(oe(a=ae===(r="12h"===j?12:24)?1:ae+1),ze(30*a));if("ArrowUp"===n&&"minutes"===He){var i=B?5:1;ue(a=ce>=(r=B?55:59)?0:ce+i),Fe(6*a)}if("ArrowDown"===n&&"hours"===He){var r="12h"===j?12:24;oe(a=1===ae?r:ae-1),ze(30*a)}if("ArrowDown"===n&&"minutes"===He){var a;r=B?55:59,i=B?5:1;ue(a=ce<=0?r:ce-i),Fe(6*a)}if("Tab"===n){var o=null===(t=ct.current)||void 0===t?void 0:t.querySelectorAll('[tabindex="0"]');o&&o[Je]&&(o[Je].focus(),Je===o.length-1?Ke(0):Ke(Je+1))}"Enter"===n&&document.activeElement&&document.activeElement.click()}),[ae,j,He,ce,B,Je]);return r((function(){Y&&Y(_)}),[_,Y]),r((function(){return $&&(document.addEventListener("click",st),document.addEventListener("keydown",dt)),function(){document.removeEventListener("click",st),document.removeEventListener("keydown",dt)}}),[$,st,dt]),r((function(){if(k){var e=b(k),t=e.hour,n=e.minute,i=e.defaultPeriod;ve(t),Me(n),void 0!==i&&Le(i)}if(M){var r=b(M);t=r.hour,n=r.minute,i=r.defaultPeriod;xe(t),Ne(n),void 0!==i&&Ie(i)}}),[k,M]),r((function(){f&&x(f,j)&&ee(f)}),[f,j]),r((function(){if(x(_,j)||""===_){if(ie(!1),""!==_){var e=b(_),t=e.hour,n=e.minute,i=e.defaultPeriod;"24h"===j?(oe(0===t?24:t),ze(0===t?360:t>12?30*(t-12):30*t)):(oe(t),ze(30*t),de(i)),ue(n),Fe(6*n)}}else ie(!0)}),[_,j]),r((function(){var e;if(!P&&!y){var t=null===(e=lt.current)||void 0===e?void 0:e.parentNode,n=function(e,t,n,i){var r=document.createElement("button"),a=document.createElement("div");a.className="invalid-feedback",a.style.bottom="-23px",a.textContent=e,r.id="timepicker-toggle-"+Math.floor(10001*Math.random()),r.tabIndex=0,r.type="button",r.style.pointerEvents="auto";var o=document.createElement("i");o.className=t+" fa-"+n+" timepicker-icon",i&&r.appendChild(o);var l=i?r:o;return l.classList.add("timepicker-toggle-button"),{div:a,selector:l}}(Qe.invalid,D,S,z),i=n.div,r=n.selector;return null==t||t.insertBefore(i,lt.current),null==t||t.insertBefore(r,lt.current),r.addEventListener("click",mt),function(){r.removeEventListener("click",mt),null==t||t.removeChild(r)}}}),[mt,Qe.invalid,z,D,S,P,y]),r((function(){if(N){var e=N.current;return e.addEventListener("click",mt),function(){e.removeEventListener("click",mt)}}}),[N,mt]),r((function(){var e,t;return $?(Re("hours"),K(!0),Ke(0),e=setTimeout((function(){Z(!0)}),4)):(Z(!1),t=setTimeout((function(){K(!1)}),300)),function(){clearTimeout(e),clearTimeout(t)}}),[$]),r((function(){var e;return je&&(e=setTimeout((function(){Ve(!1)}),400)),function(){clearTimeout(e)}}),[je]),t.createElement(t.Fragment,null,t.createElement(h.Provider,{value:{isPickerOpened:$,setIsPickerOpened:Z,setInputValue:ee,submitLabel:Qe.submit,clearLabel:Qe.clear,cancelLabel:Qe.cancel,activeHour:ae,activeMinute:ce,setActiveHour:oe,setActiveMinute:ue,format:j,period:se,setPeriod:de,defaultValue:f,maxHour:fe,minHour:be,maxPeriod:Ae,minPeriod:Ce,mode:He,setMode:Re,setHandAnimation:Ve,handAnimation:je,minMinute:Ee,maxMinute:ke,hourAngle:Se,setHourAngle:ze,minuteAngle:Be,setMinuteAngle:Fe,inline:W,increment:B}},t.createElement(U,u({className:_e,ref:W?Xe:d},X),t.createElement(s,{onFocus:function(e){return function(e){P&&(e.target.blur(),Z(!0))}(e)},inputRef:ut,labelRef:lt,className:ot,label:Qe.input,id:tt,value:_,onChange:function(e){return function(e){ee(e.target.value)}(e)},wrapperClass:"timepicker"})),!W&&J&&l.createPortal(t.createElement("div",{className:et,role:"dialog",tabIndex:-1},t.createElement("div",{ref:ct,className:nt},t.createElement("div",{className:"d-flex align-items-center justify-content-center flex-column shadow timepicker-container"},t.createElement("div",{className:"d-flex flex-column timepicker-elements justify-content-around"},t.createElement(E,null),t.createElement(w,null)),t.createElement(C,null)))),document.body),W&&J&&l.createPortal(t.createElement(F,u({className:et,style:rt.popper},at.popper,{role:"dialog",ref:Ze,tabIndex:-1}),t.createElement("div",{ref:ct,className:nt},t.createElement("div",{className:"d-flex align-items-center justify-content-center flex-column shadow timepicker-container",style:{overflowY:"inherit"}},t.createElement("div",{className:"d-flex flex-column timepicker-elements justify-content-around timepicker-elements-inline"},t.createElement(E,null))))),document.body)))}));I.defaultProps={format:"12h",customIcon:"far fa-clock",customIconSize:"sm",btnIcon:!0,justInput:!1,noIcon:!1,inline:!1,inlinePickerTag:"div",inputWrapperTag:"div",increment:!1};export{I as default};
