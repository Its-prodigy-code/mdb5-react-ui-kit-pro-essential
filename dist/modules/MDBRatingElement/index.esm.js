import e from"clsx";import t,{useState as n,useEffect as r,useCallback as o,useMemo as a,useContext as i}from"react";import l from"react-dom";import{usePopper as c}from"react-popper";var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};function p(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}var u=function(o){var a=p(o,[]),i=n(!1),l=i[0],c=i[1],u=e("ripple-wave",l&&"active");return r((function(){var e=setTimeout((function(){c(!0)}),50);return function(){clearTimeout(e)}}),[]),t.createElement("div",s({className:u},a))},f=t.forwardRef((function(o,a){var i=o.className,l=o.rippleTag,c=o.rippleCentered,f=o.rippleDuration,m=o.rippleUnbound,d=o.rippleRadius,g=o.rippleColor,v=o.children,b=o.onClick,h=p(o,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onClick"]),y=[0,0,0],C=["primary","secondary","success","danger","warning","info","light","dark"],E=n([]),N=E[0],w=E[1],k=n(!1),T=k[0],x=k[1],M=e("ripple","ripple-surface",m&&"ripple-surface-unbound",T&&"ripple-surface-"+g,i),I=function(){if(C.find((function(e){return e===(null==g?void 0:g.toLowerCase())})))return x(!0);var e=L(g).join(",");return"radial-gradient(circle, "+"rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join(""+e)+")"},L=function(e){return"transparent"===e.toLowerCase()?y:"#"===e[0]?function(e){return e.length<7&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}(e):(-1===e.indexOf("rgb")&&(e=function(e){var t=document.body.appendChild(document.createElement("fictum")),n="rgb(1, 2, 3)";return t.style.color=n,t.style.color!==n?y:(t.style.color=e,t.style.color===n||""===t.style.color?y:(e=getComputedStyle(t).color,document.body.removeChild(t),e))}(e)),0===e.indexOf("rgb")?function(e){return(e=e.match(/[.\d]+/g).map((function(e){return+Number(e)}))).length=3,e}(e):y)},O=function(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top,o=t.height,a=t.width,i=f&&.5*f,l=f&&f-.5*f,p=function(e){var t=e.offsetX,n=e.offsetY,r=e.height,o=e.width,a=n<=r/2,i=t<=o/2,l=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},c=n===r/2&&t===o/2,s=!0===a&&!1===i,p=!0===a&&!0===i,u=!1===a&&!0===i,f=!1===a&&!1===i,m={topLeft:l(t,n),topRight:l(o-t,n),bottomLeft:l(t,r-n),bottomRight:l(o-t,r-n)},d=0;return c||f?d=m.topLeft:u?d=m.topRight:p?d=m.bottomRight:s&&(d=m.bottomLeft),2*d}({offsetX:c?o/2:n,offsetY:c?a/2:r,height:o,width:a}),u=d||p/2,m={left:c?a/2-u+"px":n-u+"px",top:c?o/2-u+"px":r-u+"px",height:d?2*d+"px":p+"px",width:d?2*d+"px":p+"px",transitionDelay:"0s, "+i+"ms",transitionDuration:f+"ms, "+l+"ms"};return T?m:s(s({},m),{backgroundImage:""+I()})};return r((function(){var e=setTimeout((function(){N.length>0&&w(N.splice(1,N.length-1))}),f);return function(){clearTimeout(e)}}),[f,N]),t.createElement(l,s({className:M,onClick:function(e){return function(e){var t=O(e),n=N.concat(t);w(n),b&&b(e)}(e)},ref:a},h),v,N.map((function(e,n){return t.createElement(u,{key:n,style:e})})))}));f.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var m=t.forwardRef((function(r,o){var a=r.className,i=r.color,l=r.outline,c=r.children,u=r.rounded,m=r.disabled,d=r.floating,g=r.size,v=r.href,b=r.block,h=r.active,y=r.toggle,C=r.noRipple,E=r.tag,N=p(r,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),w=n(h||!1),k=w[0],T=w[1],x=i&&["light","link"].includes(i)||l?"dark":"light",M=e("none"!==i&&"btn","none"!==i?l?i?"btn-outline-"+i:"btn-outline-primary":i?"btn-"+i:"btn-primary":"",u&&"btn-rounded",d&&"btn-floating",g&&"btn-"+g,(v||"button"!==E)&&m?"disabled":"",b&&"btn-block",k&&"active",a);return v&&"a"!==E&&(E="a"),["hr","img","input"].includes(E)||C?t.createElement(E,s({className:M,onClick:y?function(){T(!k)}:void 0,disabled:!(!m||"button"!==E)||void 0,href:v,ref:o},N),c):t.createElement(f,s({rippleTag:E,rippleColor:x,className:M,onClick:y?function(){T(!k)}:void 0,disabled:!(!m||"button"!==E)||void 0,href:v,ref:o},N),c)}));m.defaultProps={tag:"button",role:"button",color:"primary"};var d=function(a){var i=a.className,u=a.children,f=a.disableMouseDown,m=a.tag,d=a.tooltipTag,g=a.options,v=a.placement,b=a.title,h=a.wrapperProps,y=a.wrapperClass,C=a.onMouseEnter,E=a.onMouseLeave,N=p(a,["className","children","disableMouseDown","tag","tooltipTag","options","placement","title","wrapperProps","wrapperClass","onMouseEnter","onMouseLeave"]),w=n(null),k=w[0],T=w[1],x=n(null),M=x[0],I=x[1],L=n(!1),O=L[0],P=L[1],R=n(!1),D=R[0],S=R[1],j=n(!1),z=j[0],A=j[1],F=n(!1),B=F[0],X=F[1],Y=e("tooltip",z&&"show","fade","bs-tooltip-"+v,i),H=c(k,M,s({placement:v},g)),U=H.styles,q=H.attributes;r((function(){var e,t;return O||D?(X(!0),e=setTimeout((function(){A(!0)}),4)):(A(!1),t=setTimeout((function(){X(!1)}),300)),function(){clearTimeout(e),clearTimeout(t)}}),[O,D]);var G=o((function(e){e.target===k?S(!0):S(!1)}),[k]);return r((function(){if(!f)return document.addEventListener("mousedown",G),function(){document.removeEventListener("mousedown",G)}}),[G,f]),t.createElement(t.Fragment,null,t.createElement(m,s({className:y,onMouseEnter:function(e){P(!0),C&&C(e)},onMouseLeave:function(e){P(!1),E&&E(e)},ref:T},h),u),B&&l.createPortal(t.createElement(d,s({ref:I,className:Y,style:U.popper},q.popper,{role:"tooltip"},N),t.createElement("div",{className:"tooltip-inner"},b)),document.body))};d.defaultProps={tag:m,tooltipTag:"div",placement:"top"};var g=t.createContext({activeItem:0,dynamic:!1,dynamicStyle:{color:"",icon:""},setDynamicStyle:null,setActiveItem:null,hoveredItem:0,setHoveredItem:null}),v=function(n){var r=n.className,o=n.icon,a=n.fab,i=n.fas,l=n.fal,c=n.far,u=n.flag,f=n.spin,m=n.fixed,d=n.flip,g=n.list,v=n.size,b=n.pull,h=n.pulse,y=n.color,C=n.border,E=n.rotate,N=n.inverse,w=n.stack,k=n.children,T=p(n,["className","icon","fab","fas","fal","far","flag","spin","fixed","flip","list","size","pull","pulse","color","border","rotate","inverse","stack","children"]),x=e(u?"flag":a?"fab":i?"fas":c?"far":l?"fal":"fa",u?"flag-"+u:o&&"fa-"+o,v&&"fa-"+v,y&&"text-"+y,C&&"fa-border",E&&"fa-rotate-"+E,b&&"fa-pull-"+b,f&&"fa-spin",g&&"fa-li",m&&"fa-fw",h&&"fa-pulse",N&&"fa-inverse",d&&"fa-flip-"+d,w&&"fa-stack-"+w,r);return t.createElement("i",s({className:x},T),k)},b=function(i){var u=i.className,f=i.btnClassName,m=i.btnChildren,d=i.children,g=i.tag,v=i.popperTag,b=i.isOpen,h=i.placement,y=i.dismiss,C=i.options,E=i.poperStyle,N=i.onClick,w=p(i,["className","btnClassName","btnChildren","children","tag","popperTag","isOpen","placement","dismiss","options","poperStyle","onClick"]),k=n(),T=k[0],x=k[1],M=n(),I=M[0],L=M[1],O=c(T,I,s({placement:h},C)),P=O.styles,R=O.attributes,D=n(b),S=D[0],j=D[1],z=n(!1),A=z[0],F=z[1],B=n(!1),X=B[0],Y=B[1],H=n(!1),U=H[0],q=H[1],G=e("popover fade",X&&"show","bs-popover-"+("left"===h?"start":"right"===h?"end":h),u);r((function(){b||j(!1)}),[b]);var J=o((function(e){U&&I&&null!==I&&S&&T&&null!==T&&(T.contains(e.target)||j(!1))}),[U,S,I,T]);return a((function(){var e;return S?(F(!0),setTimeout((function(){Y(!0)}),150)):(e=setTimeout((function(){F(!1)}),150),Y(!1)),function(){clearTimeout(e)}}),[S]),r((function(){return S&&document.addEventListener("mousedown",J),function(){document.removeEventListener("mousedown",J)}}),[J,S]),t.createElement(t.Fragment,null,t.createElement(g,s({onClick:function(e){y?(q(!0),j(!0)):j(!S),N&&N(e)},className:f},w,{ref:x}),m),A&&l.createPortal(t.createElement(v,s({className:G,ref:L,style:s(s({},P.popper),E)},R.popper,{"data-testid":"popoverTestID"}),d),document.body))};b.defaultProps={tag:m,popperTag:"div",placement:"bottom"};var h=function(n){var r=n.className,o=n.children,a=n.tag,i=p(n,["className","children","tag"]),l=e("popover-body",r);return t.createElement(a,s({className:l},i),o)};h.defaultProps={tag:"div"};var y=t.forwardRef((function(n,o){var a=n.className,l=n.color,c=n.itemId,u=n.iconClassName,f=n.insertAfter,m=n.insertBefore,y=n.icon,C=n.onClick,E=n.onMouseEnter,N=n.onMouseLeave,w=n.popover,k=n.size,T=n.title,x=n.tag,M=p(n,["className","color","itemId","iconClassName","insertAfter","insertBefore","icon","onClick","onMouseEnter","onMouseLeave","popover","size","title","tag"]),I=i(g),L=I.activeItem,O=I.setActiveItem,P=I.hoveredItem,R=I.setHoveredItem,D=I.dynamic,S=I.dynamicStyle,j=I.setDynamicStyle,z=!P&&L&&L>=c||P>=c,A=e(z&&"active",!l&&"text-primary",u);r((function(){D&&((P||L)===c&&j({color:l,icon:y}))}),[L,c,l,y,D,j,P]);var F=t.createElement(t.Fragment,null,t.createElement(x,s({className:a,ref:o},M,{onMouseEnter:function(e){O&&R(c),E&&E(e)},onMouseLeave:function(e){O&&R(0),N&&N(e)},onClick:function(e){O&&O(c),C&&C(e)}}),m,t.createElement(v,{far:!z,fas:z,icon:S.icon?S.icon:y,size:k,className:A,style:{color:S.color?S.color:l&&l}}),f));return t.createElement(t.Fragment,null,T?t.createElement(d,{tag:"a",title:T},F):w?t.createElement(b,{tag:"a",btnChildren:F},t.createElement(h,null,w)):F)}));y.defaultProps={tag:"li",size:"sm"};export{y as default};
