import e,{useRef as t,useEffect as a,useState as n,useCallback as r,useMemo as l}from"react";import o from"clsx";import i from"react-perfect-scrollbar";import{usePopper as c}from"react-popper";import s from"react-dom";var d=function(){return d=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},d.apply(this,arguments)};function u(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}function f(e,t){for(var a=0,n=t.length,r=e.length;a<n;a++,r++)e[r]=t[a];return e}function m(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===a&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}m("/*\n * Container style\n */\n.ps {\n  overflow: hidden !important;\n  overflow-anchor: none;\n  -ms-overflow-style: none;\n  touch-action: auto;\n  -ms-touch-action: auto;\n}\n\n/*\n * Scrollbar rail styles\n */\n.ps__rail-x {\n  display: none;\n  opacity: 0;\n  transition: background-color .2s linear, opacity .2s linear;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  height: 15px;\n  /* there must be 'bottom' or 'top' for ps__rail-x */\n  bottom: 0px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__rail-y {\n  display: none;\n  opacity: 0;\n  transition: background-color .2s linear, opacity .2s linear;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  width: 15px;\n  /* there must be 'right' or 'left' for ps__rail-y */\n  right: 0;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps--active-x > .ps__rail-x,\n.ps--active-y > .ps__rail-y {\n  display: block;\n  background-color: transparent;\n}\n\n.ps:hover > .ps__rail-x,\n.ps:hover > .ps__rail-y,\n.ps--focus > .ps__rail-x,\n.ps--focus > .ps__rail-y,\n.ps--scrolling-x > .ps__rail-x,\n.ps--scrolling-y > .ps__rail-y {\n  opacity: 0.6;\n}\n\n.ps .ps__rail-x:hover,\n.ps .ps__rail-y:hover,\n.ps .ps__rail-x:focus,\n.ps .ps__rail-y:focus,\n.ps .ps__rail-x.ps--clicking,\n.ps .ps__rail-y.ps--clicking {\n  background-color: #eee;\n  opacity: 0.9;\n}\n\n/*\n * Scrollbar thumb styles\n */\n.ps__thumb-x {\n  background-color: #aaa;\n  border-radius: 6px;\n  transition: background-color .2s linear, height .2s ease-in-out;\n  -webkit-transition: background-color .2s linear, height .2s ease-in-out;\n  height: 6px;\n  /* there must be 'bottom' for ps__thumb-x */\n  bottom: 2px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__thumb-y {\n  background-color: #aaa;\n  border-radius: 6px;\n  transition: background-color .2s linear, width .2s ease-in-out;\n  -webkit-transition: background-color .2s linear, width .2s ease-in-out;\n  width: 6px;\n  /* there must be 'right' for ps__thumb-y */\n  right: 2px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__rail-x:hover > .ps__thumb-x,\n.ps__rail-x:focus > .ps__thumb-x,\n.ps__rail-x.ps--clicking .ps__thumb-x {\n  background-color: #999;\n  height: 11px;\n}\n\n.ps__rail-y:hover > .ps__thumb-y,\n.ps__rail-y:focus > .ps__thumb-y,\n.ps__rail-y.ps--clicking .ps__thumb-y {\n  background-color: #999;\n  width: 11px;\n}\n\n/* MS supports */\n@supports (-ms-overflow-style: none) {\n  .ps {\n    overflow: auto !important;\n  }\n}\n\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .ps {\n    overflow: auto !important;\n  }\n}\n.scrollbar-container {\n  position: relative;\n  height: 100%; }");var p=function(n){var r=n.className,l=n.sidenav,c=n.tag,s=n.handlers,f=n.wheelSpeed,m=n.wheelPropagation,p=n.swipeEasing,h=n.minScrollbarLength,v=n.maxScrollbarLength,g=n.scrollingThreshold,b=n.useBothWheelAxes,x=n.suppressScrollX,y=n.suppressScrollY,N=n.scrollXMarginOffset,E=n.scrollYMarginOffset,w=n.scrollBarRef,k=n.children,C=u(n,["className","sidenav","tag","handlers","wheelSpeed","wheelPropagation","swipeEasing","minScrollbarLength","maxScrollbarLength","scrollingThreshold","useBothWheelAxes","suppressScrollX","suppressScrollY","scrollXMarginOffset","scrollYMarginOffset","scrollBarRef","children"]),_=o(l&&"sidenav-menu",r),S=t(null);a((function(){w&&w(S)}),[w]);var T=d(d({},s),{wheelSpeed:f,wheelPropagation:m,swipeEasing:p,minScrollbarLength:h,maxScrollbarLength:v,scrollingThreshold:g,useBothWheelAxes:b,suppressScrollX:x,suppressScrollY:y,scrollXMarginOffset:N,scrollYMarginOffset:E});return e.createElement(i,d({className:_,ref:S,component:c,options:T},C),k)};p.defaultProps={tag:"div",handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],wheelSpeed:1,wheelPropagation:!0,swipeEasing:!0,minScrollbarLength:void 0,maxScrollbarLength:void 0,scrollingThreshold:1e3,useBothWheelAxes:!1,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0};var h=e.forwardRef((function(t,a){var n=t.className,r=t.maxWidth,l=t.maxHeight,i=t.children,c=u(t,["className","maxWidth","maxHeight","children"]),s=o("datatable-inner","table-responsive","ps",n);return e.createElement(p,d({style:{overflow:"auto",position:"relative",width:r,height:l},className:s,ref:a},c),i)}));h.defaultProps={tag:"div"};var v=e.forwardRef((function(t,a){var n=t.className,r=t.tag,l=t.children,i=u(t,["className","tag","children"]),c=o("datatable-pagination",n);return e.createElement(r,d({className:c,ref:a},i),l)}));v.defaultProps={tag:"div"};var g=function(l){var i,c=l.className,s=l.size,f=l.contrast,m=l.value,p=l.defaultValue,h=l.id,v=l.labelId,g=l.labelClass,b=l.wrapperClass,x=l.wrapperStyle,y=l.wrapperTag,N=l.label,E=l.onChange,w=l.children,k=l.labelRef,C=l.labelStyle,_=l.inputRef,S=l.textarea,T=l.validation,O=l.invalid,R=l.validationTooltip,L=l.btnClasses,P=l.btnOnClick,F=l.btnRef,W=l.type,B=l.onBlur,M=l.readonly,A=l.btn,I=l.btnType,V=u(l,["className","size","contrast","value","defaultValue","id","labelId","labelClass","wrapperClass","wrapperStyle","wrapperTag","label","onChange","children","labelRef","labelStyle","inputRef","textarea","validation","invalid","validationTooltip","btnClasses","btnOnClick","btnRef","type","onBlur","readonly","btn","btnType"]),H=t(null),z=t(null),j=t(null),D=t(null),X=k||H,Y=F||z,q=_||(S?D:j),U=n(m||p),K=U[0],G=U[1],J=n(0),Q=J[0],Z=J[1],$=n(void 0!==m&&m.length>0||(void 0!==p&&p.length)>0),ee=$[0],te=$[1],ae=o("form-outline",f&&"form-white",b),ne=o("form-control",ee&&"active","date"===W&&"active",s&&"form-control-".concat(s),c),re=o("form-label",g),le=o(T&&(O?"invalid-".concat(R?"tooltip":"feedback"):"valid-".concat(R?"tooltip":"feedback")));a((function(){var e;X.current&&0!==(null===(e=X.current)||void 0===e?void 0:e.clientWidth)&&Z(.8*X.current.clientWidth+8)}),[X,null===(i=X.current)||void 0===i?void 0:i.clientWidth]);var oe=function(){X.current&&Z(.8*X.current.clientWidth+8)};a((function(){void 0!==m&&(m.length>0?te(!0):te(!1))}),[m]),a((function(){void 0!==p&&(p.length>0?te(!0):te(!1))}),[p]);var ie=function(e){G(e.currentTarget.value),E&&E(e)},ce=r((function(e){void 0!==K&&K.length>0||void 0!==m&&m.length>0?te(!0):te(!1),B&&B(e)}),[K,m,B]);return e.createElement(y,{className:ae,style:d({},x)},S?e.createElement("textarea",d({readOnly:M,className:ne,onBlur:ce,onChange:ie,onFocus:oe,defaultValue:p,value:m,id:h,ref:q},V)):e.createElement("input",d({type:W,readOnly:M,className:ne,onBlur:ce,onChange:ie,onFocus:oe,value:m,defaultValue:p,id:h,ref:q},V)),N&&e.createElement("label",{className:re,style:C,id:v,htmlFor:h,ref:X},N),T&&e.createElement("div",{className:le},T),e.createElement("div",{className:"form-notch"},e.createElement("div",{className:"form-notch-leading"}),e.createElement("div",{className:"form-notch-middle",style:{width:Q}}),e.createElement("div",{className:"form-notch-trailing"})),A&&e.createElement("button",{ref:Y,type:I,className:L,onClick:P},A),w)};g.defaultProps={wrapperTag:"div",btnType:"button",readonly:!1};var b=e.forwardRef((function(t,a){var n=t.className,r=t.open,l=t.tag,i=t.children,c=u(t,["className","open","tag","children"]),s=o("select-dropdown",r&&"open",n);return e.createElement(l,d({className:s},c,{ref:a}),i)}));b.defaultProps={tag:"div"};var x=e.forwardRef((function(t,a){var n=t.className,r=t.tag,l=t.children,i=u(t,["className","tag","children"]),c=o("select-option-icon-container",n);return e.createElement(r,d({className:c},i,{ref:a}),l)}));x.defaultProps={tag:"span"};var y=e.forwardRef((function(t,a){var n=t.className,r=t.tag,l=t.labelId,i=t.labelClass,c=t.wrapperClass,s=t.wrapperTag,f=t.label,m=t.inline,p=t.btn,h=t.id,v=t.defaultChecked,g=t.checked,b=t.validation,x=t.invalid,y=t.btnColor,N=t.disableWrapper,E=t.toggleSwitch,w=u(t,["className","tag","labelId","labelClass","wrapperClass","wrapperTag","label","inline","btn","id","defaultChecked","checked","validation","invalid","btnColor","disableWrapper","toggleSwitch"]),k="form-check-input",C="form-check-label";p&&(k="btn-check",C=y?"btn btn-".concat(y):"btn btn-primary");var _=o(f&&!p&&"form-check",m&&!p&&"form-check-inline",E&&"form-switch",c),S=o(k,n),T=o(C,i),O=o(b&&(x?"invalid-feedback":"valid-feedback"));return e.createElement(e.Fragment,null,N?e.createElement(e.Fragment,null,e.createElement(r,d({className:S,type:"checkbox",defaultChecked:v,checked:g,id:h,ref:a},w)),f&&e.createElement("label",{className:T,id:l,htmlFor:h},f),b&&e.createElement("div",{className:O},b)):e.createElement(s,{className:_},e.createElement(r,d({className:S,type:"checkbox",defaultChecked:v,checked:g,id:h,ref:a},w)),f&&e.createElement("label",{className:T,id:l,htmlFor:h},f),b&&e.createElement("div",{className:O},b)))}));y.defaultProps={tag:"input",wrapperTag:"div"};var N=function(t){var l=t.className,i=t.tag,c=t.disabled,s=t.height,f=t.active,m=t.children,p=t.selected,h=t.style,v=t.secondaryText,g=t.text,b=t.revert,x=t.onClick,N=t.multiple,E=u(t,["className","tag","disabled","height","active","children","selected","style","secondaryText","text","revert","onClick","multiple"]),w=o(void 0!==l&&(null==l?void 0:l.includes("select-no-results"))?"":"select-option",p&&"selected",c&&"disabled",f&&"active",l),k=n(s),C=k[0],_=k[1],S=n(!1),T=S[0],O=S[1];a((function(){v&&void 0===s?_(44):void 0===s&&_(38)}),[v,s]);var R=r((function(e){c||(x&&x(e),O(!T))}),[T,c,x]);return a((function(){N&&O(!(!p||c))}),[p,c,N]),e.createElement(i,d({className:w,style:d({height:C},h),onClick:R},E,{role:"option"}),b?e.createElement(e.Fragment,null,m,e.createElement("div",{className:"select-option-text"},N&&e.createElement(y,{label:g,onChange:R,checked:T,disabled:c}),!N&&g,v&&e.createElement("span",{className:"select-option-secondary-text"},v))):e.createElement(e.Fragment,null,e.createElement("div",{className:"select-option-text"},N&&e.createElement(y,{label:g,onChange:R,checked:T,disabled:c}),!N&&g,v&&e.createElement("span",{className:"select-option-secondary-text"},v)),m))};N.defaultProps={tag:"span",revert:!1};var E=function(t){var a=t.className,n=t.tag,r=t.children,l=u(t,["className","tag","children"]),i=o("select-option-group",a);return e.createElement(n,d({className:i},l,{role:"group"}),r)};E.defaultProps={tag:"div"};var w=function(t){var r=t.className,l=t.tag,i=t.children,c=t.height,s=u(t,["className","tag","children","height"]),f=o("select-option-group-label",r),m=n(c),p=m[0],h=m[1];return a((function(){void 0===c&&h(38)}),[c]),e.createElement(l,d({className:f,style:{height:p}},s),i)};w.defaultProps={tag:"div"};var k=e.forwardRef((function(t,a){var n=t.className,r=t.tag,l=t.children,i=u(t,["className","tag","children"]),c=o("select-option-icon",n);return e.createElement(r,d({className:c},i,{ref:a}),l)}));k.defaultProps={tag:"img"};var C=e.forwardRef((function(t,a){var n=t.className,r=t.tag,l=t.children,i=u(t,["className","tag","children"]),c=o("select-options-list",n);return e.createElement(r,d({className:c},i,{ref:a}),l)}));C.defaultProps={tag:"div"};var _=e.forwardRef((function(t,a){var n=t.className,r=t.tag,l=t.children,i=t.maxHeight,c=u(t,["className","tag","children","maxHeight"]),s=o("select-options-wrapper",n);return e.createElement(r,d({className:s,style:{maxHeight:i}},c,{ref:a}),l)}));_.defaultProps={tag:"div"};m(".select-input-label-active {\n  color: #1266f1 !important;\n}\n");var S=function(i){var m=i.children,p=i.className,h=i.clearBtn,v=i.data,y=i.tag,S=i.tagWrapper,T=i.visibleOptions,O=i.placeholder,R=i.disabled,L=i.search,P=i.getValue,F=i.optgroup,W=i.multiple,B=i.optionSelected,M=i.optionsSelectedLabel,A=i.label,I=i.getData,V=i.selectAllLabel,H=i.noResultLabel,z=i.searchLabel,j=i.size,D=i.validation,X=i.validFeedback,Y=i.invalidFeedback,q=i.inputClassName,U=i.searchAriaLabel,K=u(i,["children","className","clearBtn","data","tag","tagWrapper","visibleOptions","placeholder","disabled","search","getValue","optgroup","multiple","optionSelected","optionsSelectedLabel","label","getData","selectAllLabel","noResultLabel","searchLabel","size","validation","validFeedback","invalidFeedback","inputClassName","searchAriaLabel"]),G=n(!1),J=G[0],Q=G[1],Z=n(""),$=Z[0],ee=Z[1],te=n(!1),ae=te[0],ne=te[1],re=n(!1),le=re[0],oe=re[1],ie=n(""),ce=ie[0],se=ie[1],de=t(null),ue=n(null),fe=ue[0],me=ue[1],pe=n(v),he=pe[0],ve=pe[1],ge=n(""),be=ge[0],xe=ge[1],ye=n(!1),Ne=ye[0],Ee=ye[1],we=n([]),ke=we[0],Ce=we[1],_e=n(!1),Se=_e[0],Te=_e[1],Oe=n(v),Re=Oe[0],Le=Oe[1],Pe=n(),Fe=Pe[0],We=Pe[1],Be=n(),Me=Be[0],Ae=Be[1],Ie=n(he.findIndex((function(e){return!e.disabled&&e.selected}))),Ve=Ie[0],He=Ie[1],ze=t(null),je=n(!1),De=je[0],Xe=je[1],Ye=t(null),qe=n(0),Ue=qe[0],Ke=qe[1],Ge=n(!1),Je=Ge[0],Qe=Ge[1],Ze=n(!1),$e=Ze[0],et=Ze[1],tt=t(null),at=c(Fe,Me,{placement:"bottom-start"}),nt=at.styles,rt=at.attributes,lt=o("select-wrapper",p),ot=o("select-input",O&&"placeholder-active",Ne&&A&&"active",J&&"focused","default"!==j&&"form-control-".concat(j),q);a((function(){ve(v),Le(v);var e=v.filter((function(e){return!0===e.selected&&!e.disabled}));e.length>0&&se(e[0].text)}),[v]),a((function(){var e=[];he.forEach((function(t){t.selected&&e.push({text:t.text,value:t.value})})),P&&e&&P(W?e:e[0])}),[ce]),a((function(){ae&&L&&setTimeout((function(){var e;null===(e=Ye.current)||void 0===e||e.focus()}),100)}),[ae,L]);var it=r((function(){null!=Fe&&ae&&setTimeout((function(){var e,t=null===(e=Fe.parentNode)||void 0===e?void 0:e.parentNode.getBoundingClientRect();ee(t.width)}),100)}),[Fe,ae]);a((function(){var e,t;if(X&&Y&&Fe){if(X){var a=document.createElement("div");a.classList.add("valid-feedback"),a.innerHTML=X,Fe.setAttribute("required","true"),null===(e=Fe.parentNode)||void 0===e||e.insertBefore(a,Fe.nextSibling)}if(Y){var n=document.createElement("div");n.classList.add("invalid-feedback"),n.innerHTML=Y,Fe.setAttribute("required","true"),null===(t=Fe.parentNode)||void 0===t||t.insertBefore(n,Fe.nextSibling)}}}),[X,Y,Fe]),a((function(){it()}),[it]);var ct=r((function(e){Me&&null!==Me&&J&&Fe&&null!==Fe&&(Me.contains(e.target)||Fe.contains(e.target)?Ee(!0):(Q(!1),Ee(!1),L&&setTimeout((function(){xe("")}),100)))}),[J,Me,Fe,L]),st=r((function(){Q(!J),L&&xe("")}),[J,L]);a((function(){if(De&&!ae&&void 0!==Ue)if(W)Q(!0);else{var e=v.map((function(e,t){return d(d({},e),t===Ue?{selected:!0,active:!0}:{selected:!1,active:!1})}));Ue<=0?se(e[0].text):Ue>=e.length-1?se(e[e.length-1].text):se(e[Ue].text);for(var t=[],a=function(a){t.push(d(d({},v[a]),e.find((function(e){return e.text===v[a].text}))))},n=0;n<v.length;n++)a(n);I&&I(t),Le(t),ve(t)}return function(){clearTimeout(undefined)}}),[Ue]),a((function(){var e,t;return J?(ne(!0),A&&Ee(!0),t=setTimeout((function(){oe(!0)}),100)):(e=setTimeout((function(){ne(!1)}),100),A&&Ee(!1),oe(!1)),function(){clearTimeout(e),clearTimeout(t)}}),[J,A]),a((function(){if(W)if(Se){var e=he.map((function(e){return d(d({},e),{selected:!0,active:!0})}));ve(e);var t=e.filter((function(e){return!e.disabled})).map((function(e){return e.text}));Ce(t),se("".concat(t.length," option").concat(t.length<=1?"":"s"," selected"))}else{ve(Re);t=Re.filter((function(e){return!e.disabled&&e.selected})).map((function(e){return e.text}));Ce(t),se("".concat(t.length," option").concat(t.length<=1?"":"s"," selected"))}}),[Se]),a((function(){W&&(ke.length>=Number(B)?se(M||"".concat(ke.length," option").concat(ke.length<=1?"":"s"," selected")):se(ke.join(", ")))}),[ke,W,B,M]),a((function(){if(F){var e=v.reduce((function(e,t){var a=t.group.data.map((function(e){return void 0===e.selected?d(d({},e),{selected:!1}):e}));return t.group.data=a,e.push(t),e}),[]),t=e.map((function(e){return e.group.data.filter((function(e){return!0===e.selected}))})).flat();t.length>0&&(ve(e),se(t[0].text))}else if(W){n=v.map((function(e){return void 0===e.selected?d(d({},e),{active:!1,selected:!1}):d(d({},e),{active:!0})}));ve(n);var a=Re.filter((function(e){return!0===e.selected&&!e.disabled})).map((function(e){return e.text}));Ce(a),ke.length>=Number(B)?se("".concat(ke.length," option").concat(ke.length<=1?"":"s"," selected")):se(ke.join(", "))}else{var n,r=(n=he.map((function(e){return void 0===e.selected?d(d({},e),{active:!1,selected:!1}):d(d({},e),{active:!0})}))).filter((function(e){return!0===e.selected&&!e.disabled}));r.length>0&&(ve(n),se(r[0].text)),I&&I(n)}}),[]),a((function(){return ae&&window.addEventListener("resize",it),function(){window.removeEventListener("resize",it)}}),[it,ae]),a((function(){return ae&&window.addEventListener("click",ct),function(){window.removeEventListener("click",ct)}}),[ct,ae]);var dt=r((function(e,t,a){return void 0===a&&(a=T),f([],e).slice(0,a).forEach((function(e){var a=getComputedStyle(e).height;t.push(parseFloat(a))})),t}),[T]);a((function(){var e,t;if(ae){var a=null===(e=de.current)||void 0===e?void 0:e.children,n=[];t=setTimeout((function(){if(void 0!==a){if(F){var e=[];f([],a).map((function(t){var a=t.children;e.push.apply(e,a)})),dt(e,n)}else dt(a,n);me(n.reduce((function(e,t){return e+t})))}}),0)}return function(){clearTimeout(t)}}),[ae,T,F,dt]);var ut=r((function(e,t){var a=e.disabled,n=e.className,r=e.text,l=e.selected;if(!(a||void 0!==n&&n.includes("select-no-results")))if(W)he[t].selected=!he[t].selected,ve(he),Le(he),void 0===r||l&&void 0!==l?void 0!==r&&l&&Ce(ke.filter((function(e){return e!==r}))):Ce(f(f([],ke),[r]));else{He(t),se(r),Q(!1);for(var o=he.map((function(e,a){return a!==t?(e.selected=!1,e.active=!1):(e.selected=!0,e.active=!0),e})),i=v.map((function(e){return d(d({},e),{active:!1,selected:!1})})),c=[],s=function(e){c.push(d(d({},i[e]),o.find((function(t){return t.text===i[e].text}))))},u=0;u<i.length;u++)s(u);ve(c),Le(c),I&&I(c)}}),[v,he,I,W,ke]),ft=r((function(e,t,a){var n=0;return a?((n=e-1)<0&&(n=0),t[n].disabled&&(n=ft(n,t,!0))):((n=e+1)>t.length-1&&(n=t.length-1),t[n].disabled&&(n=ft(n,t,!1))),n}),[]),mt=r((function(e){var t=e.key;if("Escape"===t||"ArrowDown"===t||"ArrowUp"===t||"Enter"===t){var a,n,r;if(e.preventDefault(),"Escape"===t&&(a=setTimeout((function(){ne(!1),L&&xe("")}),100),Q(!1),oe(!1)),"ArrowDown"===t){var l=ae?he.findIndex((function(e){return e.active})):he.findIndex((function(e){return e.selected})),o=ft(l,he,!1);ae?(Qe(!1),et(!0),He(o)):Ke(o)}if("ArrowUp"===t){l=ae?he.findIndex((function(e){return e.active})):he.findIndex((function(e){return e.selected})),o=ft(l,he,!0);ae?(Qe(!0),et(!1),He(o)):Ke(o)}if("Enter"===t)if(ae)if(W){l=he.findIndex((function(e){return e.active}));ut(he[l],l)}else{r=setTimeout((function(){ne(!1),L&&xe("")}),100);var i=he.filter((function(e){return e.active&&!e.disabled}))[0],c=he.findIndex((function(e){return e.active&&!e.disabled})),s=Re.map((function(e,t){return d(d({},e),t===c?{selected:!0}:{selected:!1})}));se(i.text),Q(!1),oe(!1),ve(s),Le(s)}else n=setTimeout((function(){ne(!0),Q(!0),oe(!0)}),100);return function(){clearTimeout(a),clearTimeout(n),clearTimeout(r)}}}),[L,he,W,ut,Re,ae,ft]);a((function(){var e,t=tt.current;if(null!==de){var a=[],n=[];if(ae){var r=null===(e=de.current)||void 0===e?void 0:e.children;setTimeout((function(){if(dt(r,a,v.length),dt(r,n,Ve),0!==n.length){var e=n.reduce((function(e,t){return e+t}));null!==fe&&null!==t&&e>fe&&(t.scrollTop=e)}}),100)}}}),[ae,Ve]),a((function(){var e,t=tt.current;if(null!==de){var a=[],n=[];if(ae){var r=null===(e=de.current)||void 0===e?void 0:e.children;setTimeout((function(){dt(r,a,v.length),dt(r,n,Ve+2);var e=a.reduce((function(e,t){return e+t})),l=n.reduce((function(e,t){return e+t})),o=he.map((function(e,t){return d(d({},e),t===Ve?{active:!0}:{active:!1})}));ve(o),null!==fe&&null!==t&&($e&&(t.scrollTop=l>fe?l-fe:0),Je&&(t.scrollTop=l<=fe?l-76:e))}),100)}}}),[ae,v,$e,Je,dt,Ve,fe]),a((function(){return De&&window.addEventListener("keydown",mt),function(){window.removeEventListener("keydown",mt)}}),[De,mt]),a((function(){if(W){var e=he.filter((function(e){return e.selected&&!e.disabled})),t=he.filter((function(e){return!e.disabled}));e.length!==t.length?Te(!1):Te(!0)}}),[he,W]);return l((function(){if(ae&&L&&!F){var e=Re.filter((function(e){return e.text.toLowerCase().includes(be.toLowerCase())}));0===e.length?ve([{text:H,className:"select-no-results"}]):ve(e)}}),[ae,Re,L,F,H,be]),e.createElement(y,{className:lt,ref:ze},e.createElement(g,d({onFocus:function(){return Xe(!0)},onBlur:function(){return Xe(!1)},value:ce,className:ot,labelClass:o(J?"select-input-label-active":"","select-label"),inputRef:We,onClick:st,readOnly:!D,required:D,placeholder:O,disabled:R,wrapperStyle:{zIndex:0},label:A,"aria-expanded":!!ae,"aria-disabled":!!R,"aria-haspopup":!0,role:"listbox"},K),void 0!==ce&&ce.length>0&&h&&e.createElement("span",{className:"select-clear-btn d-block",role:"button",onClick:function(){se(""),Ee(!1),ve(v.map((function(e){return d(d({},e),{active:!1,selected:!1})}))),Le(v.map((function(e){return d(d({},e),{active:!1,selected:!1})})))}},"✕"),e.createElement("span",{className:"select-arrow",style:{zIndex:-1}})),ae&&s.createPortal(e.createElement(S,d({style:d(d({},nt.popper),{width:$,zIndex:1070})},rt.popper,{ref:Ae}),e.createElement(b,{open:le},L&&e.createElement("div",{className:"input-group"},e.createElement(g,{wrapperStyle:{width:"100%"},className:"select-filter-input placeholder-active",placeholder:z,role:"searchbox",type:"text",onKeyDown:mt,onChange:function(e){xe(e.target.value)},value:be,inputRef:Ye,"aria-label":U})),e.createElement(_,{ref:tt,maxHeight:fe},e.createElement(C,{ref:de},W&&e.createElement(N,{onClick:function(){Te(!Se)},selected:Se,height:38,text:V,multiple:!0}),F?he.map((function(t,a){var n=t.group;if(null!=n)return e.createElement(E,{key:n.text+a},e.createElement(w,{height:n.height},n.text),n.data.map((function(t,a){return e.createElement(N,{onClick:function(){return function(e){if(!(e.disabled||void 0!==e.className&&e.className.includes("select-no-results"))){se(e.text),Q(!1);var t=v.reduce((function(t,a){var n=a.group.data.map((function(t){return t.text!==e.text?t.selected=!1:t.selected=!0,t}));return a.group.data=n,t.push(a),t}),[]);ve(t),Le(t)}}(t)},active:t.active,"data-value":t.value,style:t.style,className:t.className,height:t.height,selected:t.selected,key:t.text+a,disabled:t.disabled,secondaryText:t.secondaryText,text:t.text,revert:t.revert})})))})):he.map((function(t,a){return e.createElement(N,{onClick:function(){return ut(t,a)},onChange:function(){return ut(t,a)},"data-value":t.value,active:t.active,className:t.className,height:t.height,style:t.style,selected:t.selected,key:t.text+a,disabled:t.disabled,secondaryText:t.secondaryText,text:t.text,revert:t.revert,multiple:W},t.icon&&e.createElement(x,null,"object"!=typeof t.icon||t.icon.constructor!==Object||e.isValidElement(t.icon)?t.icon:e.createElement(k,{className:t.icon.className,src:t.icon.src?t.icon.src:""},t.icon.text)))})),m&&e.createElement("div",{className:"select-custom-content"},m))))),document.body))};S.defaultProps={noResultLabel:"No results",optionSelected:"5",searchLabel:"Search...",selectAllLabel:"Select all",tag:"div",tagWrapper:"div",visibleOptions:5,size:"default",validation:!1,searchAriaLabel:"Search"};var T=function(t){var a=t.className,n=t.icon,r=t.fab,l=t.fas,i=t.fal,c=t.far,s=t.flag,f=t.spin,m=t.fixed,p=t.flip,h=t.list,v=t.size,g=t.pull,b=t.pulse,x=t.color,y=t.border,N=t.rotate,E=t.inverse,w=t.stack,k=t.children,C=u(t,["className","icon","fab","fas","fal","far","flag","spin","fixed","flip","list","size","pull","pulse","color","border","rotate","inverse","stack","children"]),_=o(s?"flag":r?"fab":l?"fas":c?"far":i?"fal":"fa",s?"flag-".concat(s):n&&"fa-".concat(n),v&&"fa-".concat(v),x&&"text-".concat(x),y&&"fa-border",N&&"fa-rotate-".concat(N),g&&"fa-pull-".concat(g),f&&"fa-spin",h&&"fa-li",m&&"fa-fw",b&&"fa-pulse",E&&"fa-inverse",p&&"fa-flip-".concat(p),w&&"fa-stack-".concat(w),a);return e.createElement("i",d({className:_},C),k)},O=e.forwardRef((function(t,a){var n=t.className,r=t.classNameResponsive,i=t.tag,c=t.responsive,s=t.align,f=t.borderColor,m=t.bordered,p=t.borderless,h=t.children,v=t.color,g=t.hover,b=t.small,x=t.striped,y=u(t,["className","classNameResponsive","tag","responsive","align","borderColor","bordered","borderless","children","color","hover","small","striped"]),N=o("table",s&&"align-".concat(s),f&&"border-".concat(f),m&&"table-bordered",p&&"table-borderless",v&&"table-".concat(v),g&&"table-hover",b&&"table-sm",x&&"table-striped",n),E=l((function(){return e.createElement(i,d({className:N,ref:a},y),h)}),[i,h,N,y,a]);if(c){var w=o("string"==typeof c?"table-responsive-".concat(c):"table-responsive",r);return e.createElement("div",{className:w},E)}return E}));O.defaultProps={tag:"table"};var R=e.forwardRef((function(t,a){var n=t.className,r=t.tag,l=t.children,i=t.dark,c=t.light,s=u(t,["className","tag","children","dark","light"]),f=o(i&&"table-dark",c&&"table-light",n);return e.createElement(r,d({className:f,ref:a},s),l)}));R.defaultProps={tag:"thead"};var L=e.forwardRef((function(t,a){var n=t.className,r=t.tag,l=t.children,i=u(t,["className","tag","children"]),c=o(n);return e.createElement(r,d({className:c,ref:a},i),l)}));L.defaultProps={tag:"tbody"};var P=e.forwardRef((function(t,a){var n=t.className,r=t.children,l=t.noWrap,i=t.tag,c=t.size,s=u(t,["className","children","noWrap","tag","size"]),f=o("input-group",l&&"flex-nowrap",c&&"input-group-".concat(c),n);return e.createElement(i,d({className:f,ref:a},s),r)}));P.defaultProps={tag:"div",noWrap:!1};var F=function(a){var n=a.className,r=a.textarea,l=a.inputRef,i=u(a,["className","textarea","inputRef"]),c=o("form-control",n),s=t(null),f=l||s;return e.createElement(e.Fragment,null,r?e.createElement("textarea",d({className:c,ref:f},i)):e.createElement("input",d({className:c,ref:f},i)))},W=function(r){var l=r.advancedSearch,i=r.advancedData,c=r.className,s=r.bordered,m=r.borderless,p=r.borderColor,b=r.clickableRows,x=r.color,N=r.dark,E=r.datatableRef,w=r.entries,k=r.entriesOptions,C=r.fixedHeader,_=r.fullPagination,W=r.hover,B=r.format,M=r.loaderClass,A=r.loading,I=r.loadingMessage,V=r.maxWidth,H=r.maxHeight,z=r.multi,j=r.noFoundMessage,D=r.pagination,X=r.selectable,Y=r.selectedRows,q=r.setSelectedRows,U=r.sortField,K=r.searchInputProps,G=r.sortOrder,J=r.sm,Q=r.striped,Z=r.rowsText,$=r.data,ee=r.tag,te=r.search,ae=u(r,["advancedSearch","advancedData","className","bordered","borderless","borderColor","clickableRows","color","dark","datatableRef","entries","entriesOptions","fixedHeader","fullPagination","hover","format","loaderClass","loading","loadingMessage","maxWidth","maxHeight","multi","noFoundMessage","pagination","selectable","selectedRows","setSelectedRows","sortField","searchInputProps","sortOrder","sm","striped","rowsText","data","tag","search"]),ne=o("datatable",W&&"datatable-hover",A&&"datatable-loading",x&&"bg-".concat(x),N&&"datatable-dark",s&&"datatable-bordered",m&&"datatable-borderless",p&&"border-".concat(p),Q&&"datatable-striped",J&&"datatable-sm",c),re=n($.rows),le=re[0],oe=re[1],ie=n({phrase:"",columns:void 0,clickedBtn:!1}),ce=ie[0],se=ie[1],de=n(0),ue=de[0],fe=de[1],me=n(w||10),pe=me[0],he=me[1],ve=n({iconStyle:{transform:"rotate(0deg)"},activeColumn:""}),ge=ve[0],be=ve[1],xe=t(null),ye=E||xe,Ne=function(e){se(d(d({},ce),{phrase:e.target.value}))},Ee=function(){return Math.floor(1e3*Math.random())},we="".concat(ue*pe+1," - ").concat((ue+1)*pe>$.rows.length?$.rows.length:(ue+1)*pe," of ").concat($.rows.length),ke=function(e){var t=ge.activeColumn,a=ge.iconStyle;e===t&&"rotate(0deg)"===a.transform?be({activeColumn:e,iconStyle:{transform:"rotate(180deg)"}}):e===t&&"rotate(180deg)"===a.transform?be({activeColumn:"",iconStyle:{transform:"rotate(0deg)"}}):be({activeColumn:e,iconStyle:{transform:"rotate(0deg)"}})};a((function(){U&&be("desc"===G?{activeColumn:U,iconStyle:{transform:"rotate(180deg)"}}:{activeColumn:U,iconStyle:{transform:"rotate(0deg)"}})}),[U,G]),a((function(){var e=function(e,t,a){if(!t)return e;var n=function(e){return e.toString().toLowerCase().match(t.toLowerCase())};return e.filter((function(e){if(a&&"string"==typeof a)return n(e[a]);var t=Object.values(e);return a&&Array.isArray(a)&&(t=Object.keys(e).filter((function(e){return a.includes(e)})).map((function(t){return e[t]}))),t.filter((function(e){return n(e)})).length>0}))},t=ge.activeColumn,a=ge.iconStyle,n=ce.phrase,r=ce.columns,o=ce.clickedBtn,c=i?$.columns.find((function(e){return e.label===t})):$.columns.indexOf(t);if(t){var s=function(e,t,a){return Object.assign([],e).sort((function(e,n){var r=e[t],l=n[t];return r<l?"desc"===a?1:-1:r>l?"desc"===a?-1:1:0}))}($.rows,i?c.field:c,"rotate(0deg)"===a.transform?"asc":"desc");n?l&&o?(oe(e(s,n,r)),se(d(d({},ce),{clickedBtn:!1}))):l||oe(e(s,n,r)):oe(s)}else n?l&&o?(oe(e($.rows,n,r)),se(d(d({},ce),{clickedBtn:!1}))):l||oe(e($.rows,n,r)):oe($.rows)}),[ge,$.rows,ce,l,i,$.columns]),a((function(){fe(0)}),[pe]);var Ce=e.createElement(e.Fragment,null,$.columns.map((function(t,a){return e.createElement("th",{className:C?"fixed-cell":"",key:"item-".concat(Ee(),"-").concat(a),style:{cursor:"pointer"},scope:"row",onClick:function(){return ke(t)}},e.createElement(T,{fas:!0,icon:"arrow-up",className:o("datatable-sort-icon","".concat(t===ge.activeColumn&&"active")),style:t===ge.activeColumn?ge.iconStyle:{transform:"rotate(0deg)"}}),t)}))),_e=e.createElement(e.Fragment,null,$.columns.map((function(t,a){var n={cursor:!1!==t.sort?"pointer":void 0},r={left:"left"===t.fixed?t.fixedValue?t.fixedValue:0:void 0,right:"right"===t.fixed?t.fixedValue?t.fixedValue:0:void 0};return e.createElement("th",{className:C||t.fixed?"fixed-cell":"",key:"item-".concat(Ee(),"-").concat(a),style:d(d({},n),r),scope:"row",onClick:function(){return!1!==t.sort&&ke(t.label)}},!1!==t.sort&&e.createElement(T,{fas:!0,icon:"arrow-up",className:o("datatable-sort-icon","".concat(t.label===ge.activeColumn&&"active")),style:t.label===ge.activeColumn?ge.iconStyle:{transform:"rotate(0deg)"}}),t.label)})));return e.createElement(e.Fragment,null,te&&e.createElement(g,d({value:ce.phrase,onChange:Ne,label:"Search",className:"mb-4"},K)),l&&e.createElement(P,{className:"mb-4"},e.createElement(F,d({placeholder:"phrase in:column1,column2",value:ce.phrase,onChange:Ne},K)),e.createElement("button",{onClick:function(){return se(d(d({},l(ce.phrase)),{clickedBtn:!0}))},className:"btn btn-primary",type:"button"},e.createElement(T,{icon:"search"}))),e.createElement(ee,d({className:ne,ref:ye,style:{maxWidth:V&&V}},ae),e.createElement(h,{maxWidth:V,maxHeight:H},e.createElement(O,{className:" datatable-table"},e.createElement(R,{className:"datatable-header"},e.createElement("tr",null,X&&e.createElement("th",null,z&&e.createElement(y,{className:C?"fixed-cell":"",onChange:function(e){e.target.checked?q(Array.from({length:$.rows.length},(function(e,t){return t}))):q([])}})),i?_e:Ce)),e.createElement(L,{className:"datatable-body"},le.map((function(t,a){var n=$.rows.indexOf(t);if(function(e){return ue*pe<=e&&e<(ue+1)*pe}(a))return e.createElement("tr",{style:{cursor:b&&"pointer"},onClick:function(e){return function(e,t){"INPUT"===e.target.nodeName||e.target.classList.contains("datatable-disable-onclick")||b&&b(t)}(e,t)},className:Y&&Y.includes(n)?"active":"",key:"item-".concat(Ee(),"-").concat(a)},X&&e.createElement("td",null,e.createElement(y,{checked:Y&&Y.includes(n),onChange:function(){return function(e){Y&&(z?Y.includes(e)?q(Y.filter((function(t){return t!==e}))):q(f(f([],Y),[e])):Y.includes(e)?q([]):q([e]))}(n)}})),i?function(t){return e.createElement(e.Fragment,null,$.columns.map((function(a,n){var r=B&&B(a.field,t[a.field]),l={minWidth:a.width,maxWidth:a.width,left:"left"===a.fixed&&(a.fixedValue?a.fixedValue:0),right:"right"===a.fixed&&(a.fixedValue?a.fixedValue:0)};return e.createElement("td",{className:a.fixed&&"fixed-cell",style:d(d({},r),l),key:"item-".concat(Ee(),"-").concat(n)},t[a.field])})))}(t):function(t){return e.createElement(e.Fragment,null,t.map((function(t,a){return e.createElement("td",{key:"item-".concat(Ee(),"-").concat(a)},t)})))}(t))})),0===le.length&&!A&&e.createElement("tr",{className:"datatable-results-info"},e.createElement("td",{colSpan:$.columns.length,className:"text-center"},j))))),A&&e.createElement(e.Fragment,null,e.createElement("div",{className:"datatable-loader bg-light}"},e.createElement("span",{className:"datatable-loader-inner"},e.createElement("span",{className:o("datatable-progress",M)}))),e.createElement("p",{className:"text-center text-muted my-4"},I)),D&&e.createElement(v,null,e.createElement("div",{className:"datatable-select-wrapper"},e.createElement("p",{className:"datatable-select-text"},Z),e.createElement(S,{getValue:function(e){he(e.value)},data:k&&k.map((function(e,t){return{text:e.toString(),value:e,selected:w===e}})),disabled:A})),e.createElement("div",{className:"datatable-pagination-nav"},we),e.createElement("div",{className:"datatable-pagination-buttons"},_&&e.createElement("button",{disabled:0===ue||A,onClick:function(){return fe(0)},className:"btn btn-link datatable-pagination-button datatable-pagination-start"},e.createElement(T,{icon:"angle-double-left"})),e.createElement("button",{disabled:0===ue||A,onClick:function(){return fe(ue-1)},className:"btn btn-link datatable-pagination-button datatable-pagination-left"},e.createElement(T,{icon:"chevron-left"})),e.createElement("button",{disabled:le.length<=pe*(ue+1)||A,onClick:function(){return fe(ue+1)},className:"btn btn-link datatable-pagination-button datatable-pagination-right"},e.createElement(T,{icon:"chevron-right"})),_&&e.createElement("button",{disabled:ue===Math.floor(le.length/pe),onClick:function(){return fe(Math.floor(le.length/pe))},className:"btn btn-link datatable-pagination-button datatable-pagination-end"},e.createElement(T,{icon:"angle-double-right"}))))))};W.defaultProps={tag:"div",bordered:!1,borderless:!1,borderColor:"",clickableRows:!1,color:"",dark:!1,defaultValue:"-",entries:10,entriesOptions:[10,25,50,200],fixedHeader:!1,fullPagination:!1,hover:!1,loaderClass:"bg-primary",loading:!1,loadingMessage:"Loading results...",maxWidth:"",maxHeight:"",multi:!1,noFoundMessage:"No matching results found",pagination:!0,selectable:!1,sm:!1,striped:!1,rowsText:"Rows per page:",sortOrder:"asc",sortField:""};export{W as default};
