"use strict";var e=require("react"),t=require("clsx"),a=require("react-perfect-scrollbar"),n=require("react-popper"),l=require("react-dom");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=r(e),o=r(t),i=r(a),s=r(l),u=function(){return u=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},u.apply(this,arguments)};function d(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a}function f(e,t){for(var a=0,n=t.length,l=e.length;a<n;a++,l++)e[l]=t[a];return e}function m(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===a&&n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}m("/*\n * Container style\n */\n.ps {\n  overflow: hidden !important;\n  overflow-anchor: none;\n  -ms-overflow-style: none;\n  touch-action: auto;\n  -ms-touch-action: auto;\n}\n\n/*\n * Scrollbar rail styles\n */\n.ps__rail-x {\n  display: none;\n  opacity: 0;\n  transition: background-color .2s linear, opacity .2s linear;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  height: 15px;\n  /* there must be 'bottom' or 'top' for ps__rail-x */\n  bottom: 0px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__rail-y {\n  display: none;\n  opacity: 0;\n  transition: background-color .2s linear, opacity .2s linear;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  width: 15px;\n  /* there must be 'right' or 'left' for ps__rail-y */\n  right: 0;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps--active-x > .ps__rail-x,\n.ps--active-y > .ps__rail-y {\n  display: block;\n  background-color: transparent;\n}\n\n.ps:hover > .ps__rail-x,\n.ps:hover > .ps__rail-y,\n.ps--focus > .ps__rail-x,\n.ps--focus > .ps__rail-y,\n.ps--scrolling-x > .ps__rail-x,\n.ps--scrolling-y > .ps__rail-y {\n  opacity: 0.6;\n}\n\n.ps .ps__rail-x:hover,\n.ps .ps__rail-y:hover,\n.ps .ps__rail-x:focus,\n.ps .ps__rail-y:focus,\n.ps .ps__rail-x.ps--clicking,\n.ps .ps__rail-y.ps--clicking {\n  background-color: #eee;\n  opacity: 0.9;\n}\n\n/*\n * Scrollbar thumb styles\n */\n.ps__thumb-x {\n  background-color: #aaa;\n  border-radius: 6px;\n  transition: background-color .2s linear, height .2s ease-in-out;\n  -webkit-transition: background-color .2s linear, height .2s ease-in-out;\n  height: 6px;\n  /* there must be 'bottom' for ps__thumb-x */\n  bottom: 2px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__thumb-y {\n  background-color: #aaa;\n  border-radius: 6px;\n  transition: background-color .2s linear, width .2s ease-in-out;\n  -webkit-transition: background-color .2s linear, width .2s ease-in-out;\n  width: 6px;\n  /* there must be 'right' for ps__thumb-y */\n  right: 2px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__rail-x:hover > .ps__thumb-x,\n.ps__rail-x:focus > .ps__thumb-x,\n.ps__rail-x.ps--clicking .ps__thumb-x {\n  background-color: #999;\n  height: 11px;\n}\n\n.ps__rail-y:hover > .ps__thumb-y,\n.ps__rail-y:focus > .ps__thumb-y,\n.ps__rail-y.ps--clicking .ps__thumb-y {\n  background-color: #999;\n  width: 11px;\n}\n\n/* MS supports */\n@supports (-ms-overflow-style: none) {\n  .ps {\n    overflow: auto !important;\n  }\n}\n\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .ps {\n    overflow: auto !important;\n  }\n}\n.scrollbar-container {\n  position: relative;\n  height: 100%; }");var p=function(t){var a=t.className,n=t.sidenav,l=t.tag,r=t.handlers,s=t.wheelSpeed,f=t.wheelPropagation,m=t.swipeEasing,p=t.minScrollbarLength,h=t.maxScrollbarLength,v=t.scrollingThreshold,g=t.useBothWheelAxes,b=t.suppressScrollX,x=t.suppressScrollY,E=t.scrollXMarginOffset,y=t.scrollYMarginOffset,N=t.scrollBarRef,w=t.children,k=d(t,["className","sidenav","tag","handlers","wheelSpeed","wheelPropagation","swipeEasing","minScrollbarLength","maxScrollbarLength","scrollingThreshold","useBothWheelAxes","suppressScrollX","suppressScrollY","scrollXMarginOffset","scrollYMarginOffset","scrollBarRef","children"]),S=o.default(n&&"sidenav-menu",a),C=e.useRef(null);e.useEffect((function(){N&&N(C)}),[N]);var _=u(u({},r),{wheelSpeed:s,wheelPropagation:f,swipeEasing:m,minScrollbarLength:p,maxScrollbarLength:h,scrollingThreshold:v,useBothWheelAxes:g,suppressScrollX:b,suppressScrollY:x,scrollXMarginOffset:E,scrollYMarginOffset:y});return c.default.createElement(i.default,u({className:S,ref:C,component:l,options:_},k),w)};p.defaultProps={tag:"div",handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],wheelSpeed:1,wheelPropagation:!0,swipeEasing:!0,minScrollbarLength:void 0,maxScrollbarLength:void 0,scrollingThreshold:1e3,useBothWheelAxes:!1,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0};var h=c.default.forwardRef((function(e,t){var a=e.className,n=e.maxWidth,l=e.maxHeight,r=e.children,i=d(e,["className","maxWidth","maxHeight","children"]),s=o.default("datatable-inner","table-responsive","ps",a);return c.default.createElement(p,u({style:{overflow:"auto",position:"relative",width:n,height:l},className:s,ref:t},i),r)}));h.defaultProps={tag:"div"};var v=c.default.forwardRef((function(e,t){var a=e.className,n=e.tag,l=e.children,r=d(e,["className","tag","children"]),i=o.default("datatable-pagination",a);return c.default.createElement(n,u({className:i,ref:t},r),l)}));v.defaultProps={tag:"div"};var g=function(t){var a,n=t.className,l=t.size,r=t.contrast,i=t.value,s=t.defaultValue,f=t.id,m=t.labelId,p=t.labelClass,h=t.wrapperClass,v=t.wrapperStyle,g=t.wrapperTag,b=t.label,x=t.onChange,E=t.children,y=t.labelRef,N=t.labelStyle,w=t.inputRef,k=t.textarea,S=t.validation,C=t.invalid,_=t.validationTooltip,T=t.btnClasses,R=t.btnOnClick,O=t.btnRef,L=t.type,P=t.onBlur,F=t.readonly,W=t.btn,B=t.btnType,M=d(t,["className","size","contrast","value","defaultValue","id","labelId","labelClass","wrapperClass","wrapperStyle","wrapperTag","label","onChange","children","labelRef","labelStyle","inputRef","textarea","validation","invalid","validationTooltip","btnClasses","btnOnClick","btnRef","type","onBlur","readonly","btn","btnType"]),I=e.useRef(null),A=e.useRef(null),V=e.useRef(null),H=e.useRef(null),j=y||I,z=O||A,q=w||(k?H:V),D=e.useState(i||s),X=D[0],Y=D[1],U=e.useState(0),K=U[0],G=U[1],J=e.useState(void 0!==i&&i.length>0||(void 0!==s&&s.length)>0),Q=J[0],Z=J[1],$=o.default("form-outline",r&&"form-white",h),ee=o.default("form-control",Q&&"active","date"===L&&"active",l&&"form-control-".concat(l),n),te=o.default("form-label",p),ae=o.default(S&&(C?"invalid-".concat(_?"tooltip":"feedback"):"valid-".concat(_?"tooltip":"feedback")));e.useEffect((function(){var e;j.current&&0!==(null===(e=j.current)||void 0===e?void 0:e.clientWidth)&&G(.8*j.current.clientWidth+8)}),[j,null===(a=j.current)||void 0===a?void 0:a.clientWidth]);var ne=function(){j.current&&G(.8*j.current.clientWidth+8)};e.useEffect((function(){void 0!==i&&(i.length>0?Z(!0):Z(!1))}),[i]),e.useEffect((function(){void 0!==s&&(s.length>0?Z(!0):Z(!1))}),[s]);var le=function(e){Y(e.currentTarget.value),x&&x(e)},re=e.useCallback((function(e){void 0!==X&&X.length>0||void 0!==i&&i.length>0?Z(!0):Z(!1),P&&P(e)}),[X,i,P]);return c.default.createElement(g,{className:$,style:u({},v)},k?c.default.createElement("textarea",u({readOnly:F,className:ee,onBlur:re,onChange:le,onFocus:ne,defaultValue:s,value:i,id:f,ref:q},M)):c.default.createElement("input",u({type:L,readOnly:F,className:ee,onBlur:re,onChange:le,onFocus:ne,value:i,defaultValue:s,id:f,ref:q},M)),b&&c.default.createElement("label",{className:te,style:N,id:m,htmlFor:f,ref:j},b),S&&c.default.createElement("div",{className:ae},S),c.default.createElement("div",{className:"form-notch"},c.default.createElement("div",{className:"form-notch-leading"}),c.default.createElement("div",{className:"form-notch-middle",style:{width:K}}),c.default.createElement("div",{className:"form-notch-trailing"})),W&&c.default.createElement("button",{ref:z,type:B,className:T,onClick:R},W),E)};g.defaultProps={wrapperTag:"div",btnType:"button",readonly:!1};var b=c.default.forwardRef((function(e,t){var a=e.className,n=e.open,l=e.tag,r=e.children,i=d(e,["className","open","tag","children"]),s=o.default("select-dropdown",n&&"open",a);return c.default.createElement(l,u({className:s},i,{ref:t}),r)}));b.defaultProps={tag:"div"};var x=c.default.forwardRef((function(e,t){var a=e.className,n=e.tag,l=e.children,r=d(e,["className","tag","children"]),i=o.default("select-option-icon-container",a);return c.default.createElement(n,u({className:i},r,{ref:t}),l)}));x.defaultProps={tag:"span"};var E=c.default.forwardRef((function(e,t){var a=e.className,n=e.tag,l=e.labelId,r=e.labelClass,i=e.wrapperClass,s=e.wrapperTag,f=e.label,m=e.inline,p=e.btn,h=e.id,v=e.defaultChecked,g=e.checked,b=e.validation,x=e.invalid,E=e.btnColor,y=e.disableWrapper,N=e.toggleSwitch,w=d(e,["className","tag","labelId","labelClass","wrapperClass","wrapperTag","label","inline","btn","id","defaultChecked","checked","validation","invalid","btnColor","disableWrapper","toggleSwitch"]),k="form-check-input",S="form-check-label";p&&(k="btn-check",S=E?"btn btn-".concat(E):"btn btn-primary");var C=o.default(f&&!p&&"form-check",m&&!p&&"form-check-inline",N&&"form-switch",i),_=o.default(k,a),T=o.default(S,r),R=o.default(b&&(x?"invalid-feedback":"valid-feedback"));return c.default.createElement(c.default.Fragment,null,y?c.default.createElement(c.default.Fragment,null,c.default.createElement(n,u({className:_,type:"checkbox",defaultChecked:v,checked:g,id:h,ref:t},w)),f&&c.default.createElement("label",{className:T,id:l,htmlFor:h},f),b&&c.default.createElement("div",{className:R},b)):c.default.createElement(s,{className:C},c.default.createElement(n,u({className:_,type:"checkbox",defaultChecked:v,checked:g,id:h,ref:t},w)),f&&c.default.createElement("label",{className:T,id:l,htmlFor:h},f),b&&c.default.createElement("div",{className:R},b)))}));E.defaultProps={tag:"input",wrapperTag:"div"};var y=function(t){var a=t.className,n=t.tag,l=t.disabled,r=t.height,i=t.active,s=t.children,f=t.selected,m=t.style,p=t.secondaryText,h=t.text,v=t.revert,g=t.onClick,b=t.multiple,x=d(t,["className","tag","disabled","height","active","children","selected","style","secondaryText","text","revert","onClick","multiple"]),y=o.default(void 0!==a&&(null==a?void 0:a.includes("select-no-results"))?"":"select-option",f&&"selected",l&&"disabled",i&&"active",a),N=e.useState(r),w=N[0],k=N[1],S=e.useState(!1),C=S[0],_=S[1];e.useEffect((function(){p&&void 0===r?k(44):void 0===r&&k(38)}),[p,r]);var T=e.useCallback((function(e){l||(g&&g(e),_(!C))}),[C,l,g]);return e.useEffect((function(){b&&_(!(!f||l))}),[f,l,b]),c.default.createElement(n,u({className:y,style:u({height:w},m),onClick:T},x,{role:"option"}),v?c.default.createElement(c.default.Fragment,null,s,c.default.createElement("div",{className:"select-option-text"},b&&c.default.createElement(E,{label:h,onChange:T,checked:C,disabled:l}),!b&&h,p&&c.default.createElement("span",{className:"select-option-secondary-text"},p))):c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"select-option-text"},b&&c.default.createElement(E,{label:h,onChange:T,checked:C,disabled:l}),!b&&h,p&&c.default.createElement("span",{className:"select-option-secondary-text"},p)),s))};y.defaultProps={tag:"span",revert:!1};var N=function(e){var t=e.className,a=e.tag,n=e.children,l=d(e,["className","tag","children"]),r=o.default("select-option-group",t);return c.default.createElement(a,u({className:r},l,{role:"group"}),n)};N.defaultProps={tag:"div"};var w=function(t){var a=t.className,n=t.tag,l=t.children,r=t.height,i=d(t,["className","tag","children","height"]),s=o.default("select-option-group-label",a),f=e.useState(r),m=f[0],p=f[1];return e.useEffect((function(){void 0===r&&p(38)}),[r]),c.default.createElement(n,u({className:s,style:{height:m}},i),l)};w.defaultProps={tag:"div"};var k=c.default.forwardRef((function(e,t){var a=e.className,n=e.tag,l=e.children,r=d(e,["className","tag","children"]),i=o.default("select-option-icon",a);return c.default.createElement(n,u({className:i},r,{ref:t}),l)}));k.defaultProps={tag:"img"};var S=c.default.forwardRef((function(e,t){var a=e.className,n=e.tag,l=e.children,r=d(e,["className","tag","children"]),i=o.default("select-options-list",a);return c.default.createElement(n,u({className:i},r,{ref:t}),l)}));S.defaultProps={tag:"div"};var C=c.default.forwardRef((function(e,t){var a=e.className,n=e.tag,l=e.children,r=e.maxHeight,i=d(e,["className","tag","children","maxHeight"]),s=o.default("select-options-wrapper",a);return c.default.createElement(n,u({className:s,style:{maxHeight:r}},i,{ref:t}),l)}));C.defaultProps={tag:"div"};m(".select-input-label-active {\n  color: #1266f1 !important;\n}\n");var _=function(t){var a=t.children,l=t.className,r=t.clearBtn,i=t.data,m=t.tag,p=t.tagWrapper,h=t.visibleOptions,v=t.placeholder,E=t.disabled,_=t.search,T=t.getValue,R=t.optgroup,O=t.multiple,L=t.optionSelected,P=t.optionsSelectedLabel,F=t.label,W=t.getData,B=t.selectAllLabel,M=t.noResultLabel,I=t.searchLabel,A=t.size,V=t.validation,H=t.validFeedback,j=t.invalidFeedback,z=t.inputClassName,q=d(t,["children","className","clearBtn","data","tag","tagWrapper","visibleOptions","placeholder","disabled","search","getValue","optgroup","multiple","optionSelected","optionsSelectedLabel","label","getData","selectAllLabel","noResultLabel","searchLabel","size","validation","validFeedback","invalidFeedback","inputClassName"]),D=e.useState(!1),X=D[0],Y=D[1],U=e.useState(""),K=U[0],G=U[1],J=e.useState(!1),Q=J[0],Z=J[1],$=e.useState(!1),ee=$[0],te=$[1],ae=e.useState(""),ne=ae[0],le=ae[1],re=e.useRef(null),ce=e.useState(null),oe=ce[0],ie=ce[1],se=e.useState(i),ue=se[0],de=se[1],fe=e.useState(""),me=fe[0],pe=fe[1],he=e.useState(!1),ve=he[0],ge=he[1],be=e.useState([]),xe=be[0],Ee=be[1],ye=e.useState(!1),Ne=ye[0],we=ye[1],ke=e.useState(i),Se=ke[0],Ce=ke[1],_e=e.useState(),Te=_e[0],Re=_e[1],Oe=e.useState(),Le=Oe[0],Pe=Oe[1],Fe=e.useState(ue.findIndex((function(e){return!e.disabled&&e.selected}))),We=Fe[0],Be=Fe[1],Me=e.useRef(null),Ie=e.useState(!1),Ae=Ie[0],Ve=Ie[1],He=e.useRef(null),je=e.useState(0),ze=je[0],qe=je[1],De=e.useState(!1),Xe=De[0],Ye=De[1],Ue=e.useState(!1),Ke=Ue[0],Ge=Ue[1],Je=e.useRef(null),Qe=n.usePopper(Te,Le,{placement:"bottom-start"}),Ze=Qe.styles,$e=Qe.attributes,et=o.default("select-wrapper",l),tt=o.default("select-input",v&&"placeholder-active",ve&&F&&"active",X&&"focused","default"!==A&&"form-control-".concat(A),z);e.useEffect((function(){var e=[];ue.forEach((function(t){t.selected&&e.push({text:t.text,value:t.value})})),T&&e&&T(O?e:e[0])}),[ne]),e.useEffect((function(){Q&&_&&setTimeout((function(){var e;null===(e=He.current)||void 0===e||e.focus()}),100)}),[Q,_]);var at=e.useCallback((function(){null!=Te&&Q&&setTimeout((function(){var e,t=null===(e=Te.parentNode)||void 0===e?void 0:e.parentNode.getBoundingClientRect();G(t.width)}),100)}),[Te,Q]);e.useEffect((function(){var e,t;if(H&&j&&Te){if(H){var a=document.createElement("div");a.classList.add("valid-feedback"),a.innerHTML=H,Te.setAttribute("required","true"),null===(e=Te.parentNode)||void 0===e||e.insertBefore(a,Te.nextSibling)}if(j){var n=document.createElement("div");n.classList.add("invalid-feedback"),n.innerHTML=j,Te.setAttribute("required","true"),null===(t=Te.parentNode)||void 0===t||t.insertBefore(n,Te.nextSibling)}}}),[H,j,Te]),e.useEffect((function(){at()}),[at]);var nt=e.useCallback((function(e){Le&&null!==Le&&X&&Te&&null!==Te&&(Le.contains(e.target)||Te.contains(e.target)?ge(!0):(Y(!1),ge(!1),_&&setTimeout((function(){pe("")}),100)))}),[X,Le,Te,_]),lt=e.useCallback((function(){Y(!X),_&&pe("")}),[X,_]);e.useEffect((function(){if(Ae&&!Q&&void 0!==ze)if(O)Y(!0);else{var e=i.map((function(e,t){return u(u({},e),t===ze?{selected:!0,active:!0}:{selected:!1,active:!1})}));ze<=0?le(e[0].text):ze>=e.length-1?le(e[e.length-1].text):le(e[ze].text);for(var t=[],a=function(a){t.push(u(u({},i[a]),e.find((function(e){return e.text===i[a].text}))))},n=0;n<i.length;n++)a(n);W&&W(t),Ce(t),de(t)}return function(){clearTimeout(undefined)}}),[ze]),e.useEffect((function(){var e,t;return X?(Z(!0),F&&ge(!0),t=setTimeout((function(){te(!0)}),100)):(e=setTimeout((function(){Z(!1)}),100),F&&ge(!1),te(!1)),function(){clearTimeout(e),clearTimeout(t)}}),[X,F]),e.useEffect((function(){if(O)if(Ne){var e=ue.map((function(e){return u(u({},e),{selected:!0,active:!0})}));de(e);var t=e.filter((function(e){return!e.disabled})).map((function(e){return e.text}));Ee(t),le("".concat(t.length," option").concat(t.length<=1?"":"s"," selected"))}else{de(Se);t=Se.filter((function(e){return!e.disabled&&e.selected})).map((function(e){return e.text}));Ee(t),le("".concat(t.length," option").concat(t.length<=1?"":"s"," selected"))}}),[Ne]),e.useEffect((function(){O&&(xe.length>=Number(L)?le(P||"".concat(xe.length," option").concat(xe.length<=1?"":"s"," selected")):le(xe.join(", ")))}),[xe,O,L,P]),e.useEffect((function(){if(R){var e=i.reduce((function(e,t){var a=t.group.data.map((function(e){return void 0===e.selected?u(u({},e),{selected:!1}):e}));return t.group.data=a,e.push(t),e}),[]),t=e.map((function(e){return e.group.data.filter((function(e){return!0===e.selected}))})).flat();t.length>0&&(de(e),le(t[0].text))}else if(O){n=i.map((function(e){return void 0===e.selected?u(u({},e),{active:!1,selected:!1}):u(u({},e),{active:!0})}));de(n);var a=Se.filter((function(e){return!0===e.selected&&!e.disabled})).map((function(e){return e.text}));Ee(a),xe.length>=Number(L)?le("".concat(xe.length," option").concat(xe.length<=1?"":"s"," selected")):le(xe.join(", "))}else{var n,l=(n=ue.map((function(e){return void 0===e.selected?u(u({},e),{active:!1,selected:!1}):u(u({},e),{active:!0})}))).filter((function(e){return!0===e.selected&&!e.disabled}));l.length>0&&(de(n),le(l[0].text)),W&&W(n)}}),[]),e.useEffect((function(){return Q&&window.addEventListener("resize",at),function(){window.removeEventListener("resize",at)}}),[at,Q]),e.useEffect((function(){return Q&&window.addEventListener("click",nt),function(){window.removeEventListener("click",nt)}}),[nt,Q]),e.useEffect((function(){var e,t;return X?(Z(!0),F&&ge(!0),t=setTimeout((function(){te(!0)}),100)):(e=setTimeout((function(){Z(!1)}),100),F&&ge(!1),te(!1)),function(){clearTimeout(e),clearTimeout(t)}}),[X,F]);var rt=e.useCallback((function(e,t,a){return void 0===a&&(a=h),f([],e).slice(0,a).forEach((function(e){var a=getComputedStyle(e).height;t.push(parseFloat(a))})),t}),[h]);e.useEffect((function(){var e,t;if(Q){var a=null===(e=re.current)||void 0===e?void 0:e.children,n=[];t=setTimeout((function(){if(void 0!==a){if(R){var e=[];f([],a).map((function(t){var a=t.children;e.push.apply(e,a)})),rt(e,n)}else rt(a,n);ie(n.reduce((function(e,t){return e+t})))}}),0)}return function(){clearTimeout(t)}}),[Q,h,R,rt]);var ct=e.useCallback((function(e,t){var a=e.disabled,n=e.className,l=e.text,r=e.selected;if(!(a||void 0!==n&&n.includes("select-no-results")))if(O)ue[t].selected=!ue[t].selected,de(ue),Ce(ue),void 0===l||r&&void 0!==r?void 0!==l&&r&&Ee(xe.filter((function(e){return e!==l}))):Ee(f(f([],xe),[l]));else{Be(t),le(l),Y(!1);for(var c=ue.map((function(e,a){return a!==t?(e.selected=!1,e.active=!1):(e.selected=!0,e.active=!0),e})),o=i.map((function(e){return u(u({},e),{active:!1,selected:!1})})),s=[],d=function(e){s.push(u(u({},o[e]),c.find((function(t){return t.text===o[e].text}))))},m=0;m<o.length;m++)d(m);de(s),Ce(s),W&&W(s)}}),[i,ue,W,O,xe]),ot=e.useCallback((function(e,t,a){var n=0;return a?((n=e-1)<0&&(n=0),t[n].disabled&&(n=ot(n,t,!0))):((n=e+1)>t.length-1&&(n=t.length-1),t[n].disabled&&(n=ot(n,t,!1))),n}),[]),it=e.useCallback((function(e){var t=e.key;if("Escape"===t||"ArrowDown"===t||"ArrowUp"===t||"Enter"===t){var a,n,l;if(e.preventDefault(),"Escape"===t&&(a=setTimeout((function(){Z(!1),_&&pe("")}),100),Y(!1),te(!1)),"ArrowDown"===t){var r=Q?ue.findIndex((function(e){return e.active})):ue.findIndex((function(e){return e.selected})),c=ot(r,ue,!1);Q?(Ye(!1),Ge(!0),Be(c)):qe(c)}if("ArrowUp"===t){r=Q?ue.findIndex((function(e){return e.active})):ue.findIndex((function(e){return e.selected})),c=ot(r,ue,!0);Q?(Ye(!0),Ge(!1),Be(c)):qe(c)}if("Enter"===t)if(Q)if(O){r=ue.findIndex((function(e){return e.active}));ct(ue[r],r)}else{l=setTimeout((function(){Z(!1),_&&pe("")}),100);var o=ue.filter((function(e){return e.active&&!e.disabled}))[0],i=ue.findIndex((function(e){return e.active&&!e.disabled})),s=Se.map((function(e,t){return u(u({},e),t===i?{selected:!0}:{selected:!1})}));le(o.text),Y(!1),te(!1),de(s),Ce(s)}else n=setTimeout((function(){Z(!0),Y(!0),te(!0)}),100);return function(){clearTimeout(a),clearTimeout(n),clearTimeout(l)}}}),[_,ue,O,ct,Se,Q,ot]);e.useEffect((function(){var e,t=Je.current;if(null!==re){var a=[],n=[];if(Q){var l=null===(e=re.current)||void 0===e?void 0:e.children;setTimeout((function(){if(rt(l,a,i.length),rt(l,n,We),0!==n.length){var e=n.reduce((function(e,t){return e+t}));null!==oe&&null!==t&&e>oe&&(t.scrollTop=e)}}),100)}}}),[Q,We]),e.useEffect((function(){var e,t=Je.current;if(null!==re){var a=[],n=[];if(Q){var l=null===(e=re.current)||void 0===e?void 0:e.children;setTimeout((function(){rt(l,a,i.length),rt(l,n,We+2);var e=a.reduce((function(e,t){return e+t})),r=n.reduce((function(e,t){return e+t})),c=ue.map((function(e,t){return u(u({},e),t===We?{active:!0}:{active:!1})}));de(c),null!==oe&&null!==t&&(Ke&&(t.scrollTop=r>oe?r-oe:0),Xe&&(t.scrollTop=r<=oe?r-76:e))}),100)}}}),[Q,i,Ke,Xe,rt,We,oe]),e.useEffect((function(){return Ae&&window.addEventListener("keydown",it),function(){window.removeEventListener("keydown",it)}}),[Ae,it]),e.useEffect((function(){if(O){var e=ue.filter((function(e){return e.selected&&!e.disabled})),t=ue.filter((function(e){return!e.disabled}));e.length!==t.length?we(!1):we(!0)}}),[ue,O]);return e.useMemo((function(){if(Q&&_&&!R){var e=Se.filter((function(e){return e.text.toLowerCase().includes(me.toLowerCase())}));0===e.length?de([{text:M,className:"select-no-results"}]):de(e)}}),[Q,Se,_,R,M,me]),c.default.createElement(m,{className:et,ref:Me},c.default.createElement(g,u({onFocus:function(){return Ve(!0)},onBlur:function(){return Ve(!1)},value:ne,className:tt,labelClass:o.default(X?"select-input-label-active":"","select-label"),inputRef:Re,onClick:lt,readOnly:!V,required:V,placeholder:v,disabled:E,wrapperStyle:{zIndex:0},label:F,"aria-expanded":!!Q,"aria-disabled":!!E,"aria-haspopup":!0,role:"listbox"},q),void 0!==ne&&ne.length>0&&r&&c.default.createElement("span",{className:"select-clear-btn d-block",role:"button",onClick:function(){le(""),ge(!1),de(i.map((function(e){return u(u({},e),{active:!1,selected:!1})}))),Ce(i.map((function(e){return u(u({},e),{active:!1,selected:!1})})))}},"âœ•"),c.default.createElement("span",{className:"select-arrow",style:{zIndex:-1}})),Q&&s.default.createPortal(c.default.createElement(p,u({style:u(u({},Ze.popper),{width:K,zIndex:1070})},$e.popper,{ref:Pe}),c.default.createElement(b,{open:ee},_&&c.default.createElement("div",{className:"input-group"},c.default.createElement(g,{wrapperStyle:{width:"100%"},className:"select-filter-input placeholder-active",placeholder:I,role:"searchbox",type:"text",onKeyDown:it,onChange:function(e){pe(e.target.value)},value:me,inputRef:He})),c.default.createElement(C,{ref:Je,maxHeight:oe},c.default.createElement(S,{ref:re},O&&c.default.createElement(y,{onClick:function(){we(!Ne)},selected:Ne,height:38,text:B,multiple:!0}),R?ue.map((function(e,t){var a=e.group;if(null!=a)return c.default.createElement(N,{key:a.text+t},c.default.createElement(w,{height:a.height},a.text),a.data.map((function(e,t){return c.default.createElement(y,{onClick:function(){return function(e){if(!(e.disabled||void 0!==e.className&&e.className.includes("select-no-results"))){le(e.text),Y(!1);var t=i.reduce((function(t,a){var n=a.group.data.map((function(t){return t.text!==e.text?t.selected=!1:t.selected=!0,t}));return a.group.data=n,t.push(a),t}),[]);de(t),Ce(t)}}(e)},active:e.active,"data-value":e.value,style:e.style,className:e.className,height:e.height,selected:e.selected,key:e.text+t,disabled:e.disabled,secondaryText:e.secondaryText,text:e.text,revert:e.revert})})))})):ue.map((function(e,t){return c.default.createElement(y,{onClick:function(){return ct(e,t)},onChange:function(){return ct(e,t)},"data-value":e.value,active:e.active,className:e.className,height:e.height,style:e.style,selected:e.selected,key:e.text+t,disabled:e.disabled,secondaryText:e.secondaryText,text:e.text,revert:e.revert,multiple:O},e.icon&&c.default.createElement(x,null,"object"!=typeof e.icon||e.icon.constructor!==Object||c.default.isValidElement(e.icon)?e.icon:c.default.createElement(k,{className:e.icon.className,src:e.icon.src?e.icon.src:""},e.icon.text)))})),a&&c.default.createElement("div",{className:"select-custom-content"},a))))),document.body))};_.defaultProps={noResultLabel:"No results",optionSelected:"5",searchLabel:"Search...",selectAllLabel:"Select all",tag:"div",tagWrapper:"div",visibleOptions:5,size:"default",validation:!1};var T=function(e){var t,a=e.className,n=e.icon,l=e.fab,r=e.fas,i=e.fal,s=e.far,f=e.flag,m=e.spin,p=e.fixed,h=e.flip,v=e.list,g=e.size,b=e.pull,x=e.pulse,E=e.color,y=e.border,N=e.rotate,w=e.inverse,k=e.stack,S=e.children,C=d(e,["className","icon","fab","fas","fal","far","flag","spin","fixed","flip","list","size","pull","pulse","color","border","rotate","inverse","stack","children"]);t=f?"flag":l?"fab":r?"fas":s?"far":i?"fal":"fa";var _=o.default(t,f?"flag-".concat(f):n&&"fa-".concat(n),g&&"fa-".concat(g),E&&"text-".concat(E),y&&"fa-border",N&&"fa-rotate-".concat(N),b&&"fa-pull-".concat(b),m&&"fa-spin",v&&"fa-li",p&&"fa-fw",x&&"fa-pulse",w&&"fa-inverse",h&&"fa-flip-".concat(h),k&&"fa-stack-".concat(k),a);return c.default.createElement("i",u({className:_},C),S)},R=c.default.forwardRef((function(t,a){var n=t.className,l=t.classNameResponsive,r=t.tag,i=t.responsive,s=t.align,f=t.borderColor,m=t.bordered,p=t.borderless,h=t.children,v=t.color,g=t.hover,b=t.small,x=t.striped,E=d(t,["className","classNameResponsive","tag","responsive","align","borderColor","bordered","borderless","children","color","hover","small","striped"]),y=o.default("table",s&&"align-".concat(s),f&&"border-".concat(f),m&&"table-bordered",p&&"table-borderless",v&&"table-".concat(v),g&&"table-hover",b&&"table-sm",x&&"table-striped",n),N=e.useMemo((function(){return c.default.createElement(r,u({className:y,ref:a},E),h)}),[r,h,y,E,a]);if(i){var w=o.default("string"==typeof i?"table-responsive-".concat(i):"table-responsive",l);return c.default.createElement("div",{className:w},N)}return N}));R.defaultProps={tag:"table"};var O=c.default.forwardRef((function(e,t){var a=e.className,n=e.tag,l=e.children,r=e.dark,i=e.light,s=d(e,["className","tag","children","dark","light"]),f=o.default(r&&"table-dark",i&&"table-light",a);return c.default.createElement(n,u({className:f,ref:t},s),l)}));O.defaultProps={tag:"thead"};var L=c.default.forwardRef((function(e,t){var a=e.className,n=e.tag,l=e.children,r=d(e,["className","tag","children"]),i=o.default(a);return c.default.createElement(n,u({className:i,ref:t},r),l)}));L.defaultProps={tag:"tbody"};var P=c.default.forwardRef((function(e,t){var a=e.className,n=e.children,l=e.noWrap,r=e.tag,i=e.size,s=d(e,["className","children","noWrap","tag","size"]),f=o.default("input-group",l&&"flex-nowrap",i&&"input-group-".concat(i),a);return c.default.createElement(r,u({className:f,ref:t},s),n)}));P.defaultProps={tag:"div",noWrap:!1};var F=function(t){var a=t.className,n=t.textarea,l=t.inputRef,r=d(t,["className","textarea","inputRef"]),i=o.default("form-control",a),s=e.useRef(null),f=l||s;return c.default.createElement(c.default.Fragment,null,n?c.default.createElement("textarea",u({className:i,ref:f},r)):c.default.createElement("input",u({className:i,ref:f},r)))},W=function(t){var a=t.advancedSearch,n=t.advancedData,l=t.className,r=t.bordered,i=t.borderless,s=t.borderColor,m=t.clickableRows,p=t.color,b=t.dark,x=t.datatableRef,y=t.entries,N=t.entriesOptions,w=t.fixedHeader,k=t.fullPagination,S=t.hover,C=t.format,W=t.loaderClass,B=t.loading,M=t.loadingMessage,I=t.maxWidth,A=t.maxHeight,V=t.multi,H=t.noFoundMessage,j=t.pagination,z=t.selectable,q=t.selectedRows,D=t.setSelectedRows,X=t.sortField,Y=t.searchInputProps,U=t.sortOrder,K=t.sm,G=t.striped,J=t.rowsText,Q=t.data,Z=t.tag,$=t.search,ee=d(t,["advancedSearch","advancedData","className","bordered","borderless","borderColor","clickableRows","color","dark","datatableRef","entries","entriesOptions","fixedHeader","fullPagination","hover","format","loaderClass","loading","loadingMessage","maxWidth","maxHeight","multi","noFoundMessage","pagination","selectable","selectedRows","setSelectedRows","sortField","searchInputProps","sortOrder","sm","striped","rowsText","data","tag","search"]),te=o.default("datatable",S&&"datatable-hover",B&&"datatable-loading",p&&"bg-".concat(p),b&&"datatable-dark",r&&"datatable-bordered",i&&"datatable-borderless",s&&"border-".concat(s),G&&"datatable-striped",K&&"datatable-sm",l),ae=e.useState(Q.rows),ne=ae[0],le=ae[1],re=e.useState({phrase:"",columns:void 0,clickedBtn:!1}),ce=re[0],oe=re[1],ie=e.useState(0),se=ie[0],ue=ie[1],de=e.useState(y||10),fe=de[0],me=de[1],pe=e.useState({iconStyle:{transform:"rotate(0deg)"},activeColumn:""}),he=pe[0],ve=pe[1],ge=e.useRef(null),be=x||ge,xe=function(e){oe(u(u({},ce),{phrase:e.target.value}))},Ee=function(){return Math.floor(1e3*Math.random())},ye="".concat(se*fe+1," - ").concat((se+1)*fe>Q.rows.length?Q.rows.length:(se+1)*fe," of ").concat(Q.rows.length),Ne=function(e){var t=he.activeColumn,a=he.iconStyle;e===t&&"rotate(0deg)"===a.transform?ve({activeColumn:e,iconStyle:{transform:"rotate(180deg)"}}):e===t&&"rotate(180deg)"===a.transform?ve({activeColumn:"",iconStyle:{transform:"rotate(0deg)"}}):ve({activeColumn:e,iconStyle:{transform:"rotate(0deg)"}})};e.useEffect((function(){X&&ve("desc"===U?{activeColumn:X,iconStyle:{transform:"rotate(180deg)"}}:{activeColumn:X,iconStyle:{transform:"rotate(0deg)"}})}),[X,U]),e.useEffect((function(){var e=function(e,t,a){if(!t)return e;var n=function(e){return e.toString().toLowerCase().match(t.toLowerCase())};return e.filter((function(e){if(a&&"string"==typeof a)return n(e[a]);var t=Object.values(e);return a&&Array.isArray(a)&&(t=Object.keys(e).filter((function(e){return a.includes(e)})).map((function(t){return e[t]}))),t.filter((function(e){return n(e)})).length>0}))},t=he.activeColumn,l=he.iconStyle,r=ce.phrase,c=ce.columns,o=ce.clickedBtn,i=n?Q.columns.find((function(e){return e.label===t})):Q.columns.indexOf(t);if(t){var s=function(e,t,a){return Object.assign([],e).sort((function(e,n){var l=e[t],r=n[t];return l<r?"desc"===a?1:-1:l>r?"desc"===a?-1:1:0}))}(Q.rows,n?i.field:i,"rotate(0deg)"===l.transform?"asc":"desc");r?a&&o?(le(e(s,r,c)),oe(u(u({},ce),{clickedBtn:!1}))):a||le(e(s,r,c)):le(s)}else r?a&&o?(le(e(Q.rows,r,c)),oe(u(u({},ce),{clickedBtn:!1}))):a||le(e(Q.rows,r,c)):le(Q.rows)}),[he,Q.rows,ce,a,n,Q.columns]),e.useEffect((function(){ue(0)}),[fe]);var we=c.default.createElement(c.default.Fragment,null,Q.columns.map((function(e,t){return c.default.createElement("th",{className:w?"fixed-cell":"",key:"item-".concat(Ee(),"-").concat(t),style:{cursor:"pointer"},scope:"row",onClick:function(){return Ne(e)}},c.default.createElement(T,{fas:!0,icon:"arrow-up",className:o.default("datatable-sort-icon","".concat(e===he.activeColumn&&"active")),style:e===he.activeColumn?he.iconStyle:{transform:"rotate(0deg)"}}),e)}))),ke=c.default.createElement(c.default.Fragment,null,Q.columns.map((function(e,t){var a={cursor:!1!==e.sort?"pointer":void 0},n={left:"left"===e.fixed?e.fixedValue?e.fixedValue:0:void 0,right:"right"===e.fixed?e.fixedValue?e.fixedValue:0:void 0};return c.default.createElement("th",{className:w||e.fixed?"fixed-cell":"",key:"item-".concat(Ee(),"-").concat(t),style:u(u({},a),n),scope:"row",onClick:function(){return!1!==e.sort&&Ne(e.label)}},!1!==e.sort&&c.default.createElement(T,{fas:!0,icon:"arrow-up",className:o.default("datatable-sort-icon","".concat(e.label===he.activeColumn&&"active")),style:e.label===he.activeColumn?he.iconStyle:{transform:"rotate(0deg)"}}),e.label)})));return c.default.createElement(c.default.Fragment,null,$&&c.default.createElement(g,u({value:ce.phrase,onChange:xe,label:"Search",className:"mb-4"},Y)),a&&c.default.createElement(P,{className:"mb-4"},c.default.createElement(F,u({placeholder:"phrase in:column1,column2",value:ce.phrase,onChange:xe},Y)),c.default.createElement("button",{onClick:function(){return oe(u(u({},a(ce.phrase)),{clickedBtn:!0}))},className:"btn btn-primary",type:"button"},c.default.createElement(T,{icon:"search"}))),c.default.createElement(Z,u({className:te,ref:be,style:{maxWidth:I&&I}},ee),c.default.createElement(h,{maxWidth:I,maxHeight:A},c.default.createElement(R,{className:" datatable-table"},c.default.createElement(O,{className:"datatable-header"},c.default.createElement("tr",null,z&&c.default.createElement("th",null,V&&c.default.createElement(E,{className:w?"fixed-cell":"",onChange:function(e){e.target.checked?D(Array.from({length:Q.rows.length},(function(e,t){return t}))):D([])}})),n?ke:we)),c.default.createElement(L,{className:"datatable-body"},ne.map((function(e,t){var a=Q.rows.indexOf(e);if(function(e){return se*fe<=e&&e<(se+1)*fe}(t))return c.default.createElement("tr",{style:{cursor:m&&"pointer"},onClick:function(t){return function(e,t){"INPUT"===e.target.nodeName||e.target.classList.contains("datatable-disable-onclick")||m&&m(t)}(t,e)},className:q&&q.includes(a)?"active":"",key:"item-".concat(Ee(),"-").concat(t)},z&&c.default.createElement("td",null,c.default.createElement(E,{checked:q&&q.includes(a),onChange:function(){return function(e){q&&(V?q.includes(e)?D(q.filter((function(t){return t!==e}))):D(f(f([],q),[e])):q.includes(e)?D([]):D([e]))}(a)}})),n?function(e){return c.default.createElement(c.default.Fragment,null,Q.columns.map((function(t,a){var n=C&&C(t.field,e[t.field]),l={minWidth:t.width,maxWidth:t.width,left:"left"===t.fixed&&(t.fixedValue?t.fixedValue:0),right:"right"===t.fixed&&(t.fixedValue?t.fixedValue:0)};return c.default.createElement("td",{className:t.fixed&&"fixed-cell",style:u(u({},n),l),key:"item-".concat(Ee(),"-").concat(a)},e[t.field])})))}(e):function(e){return c.default.createElement(c.default.Fragment,null,e.map((function(e,t){return c.default.createElement("td",{key:"item-".concat(Ee(),"-").concat(t)},e)})))}(e))})),0===ne.length&&!B&&c.default.createElement("tr",{className:"datatable-results-info"},c.default.createElement("td",null,H))))),B&&c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"datatable-loader bg-light}"},c.default.createElement("span",{className:"datatable-loader-inner"},c.default.createElement("span",{className:o.default("datatable-progress",W)}))),c.default.createElement("p",{className:"text-center text-muted my-4"},M)),j&&c.default.createElement(v,null,c.default.createElement("div",{className:"datatable-select-wrapper"},c.default.createElement("p",{className:"datatable-select-text"},J),c.default.createElement(_,{getValue:function(e){me(e.value)},data:N&&N.map((function(e,t){return{text:e.toString(),value:e,selected:y===e}})),disabled:B})),c.default.createElement("div",{className:"datatable-pagination-nav"},ye),c.default.createElement("div",{className:"datatable-pagination-buttons"},k&&c.default.createElement("button",{disabled:0===se||B,onClick:function(){return ue(0)},className:"btn btn-link datatable-pagination-button datatable-pagination-start"},c.default.createElement(T,{icon:"angle-double-left"})),c.default.createElement("button",{disabled:0===se||B,onClick:function(){return ue(se-1)},className:"btn btn-link datatable-pagination-button datatable-pagination-left"},c.default.createElement(T,{icon:"chevron-left"})),c.default.createElement("button",{disabled:ne.length<=fe*(se+1)||B,onClick:function(){return ue(se+1)},className:"btn btn-link datatable-pagination-button datatable-pagination-right"},c.default.createElement(T,{icon:"chevron-right"})),k&&c.default.createElement("button",{disabled:se===Math.floor(ne.length/fe),onClick:function(){return ue(Math.floor(ne.length/fe))},className:"btn btn-link datatable-pagination-button datatable-pagination-end"},c.default.createElement(T,{icon:"angle-double-right"}))))))};W.defaultProps={tag:"div",bordered:!1,borderless:!1,borderColor:"",clickableRows:!1,color:"",dark:!1,defaultValue:"-",entries:10,entriesOptions:[10,25,50,200],fixedHeader:!1,fullPagination:!1,hover:!1,loaderClass:"bg-primary",loading:!1,loadingMessage:"Loading results...",maxWidth:"",maxHeight:"",multi:!1,noFoundMessage:"No matching results found",pagination:!0,selectable:!1,sm:!1,striped:!1,rowsText:"Rows per page:",sortOrder:"asc",sortField:""},module.exports=W;
