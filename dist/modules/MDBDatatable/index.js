"use strict";var e=require("react"),t=require("clsx"),a=require("react-perfect-scrollbar"),l=require("react-popper"),n=require("react-dom");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=r(e),s=r(t),o=r(a),c=r(n),u=function(){return u=Object.assign||function(e){for(var t,a=1,l=arguments.length;a<l;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},u.apply(this,arguments)};function d(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}function f(e,t){for(var a=0,l=t.length,n=e.length;a<l;a++,n++)e[n]=t[a];return e}function m(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!=typeof document){var l=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===a&&l.firstChild?l.insertBefore(n,l.firstChild):l.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}m("/*\n * Container style\n */\n.ps {\n  overflow: hidden !important;\n  overflow-anchor: none;\n  -ms-overflow-style: none;\n  touch-action: auto;\n  -ms-touch-action: auto;\n}\n\n/*\n * Scrollbar rail styles\n */\n.ps__rail-x {\n  display: none;\n  opacity: 0;\n  transition: background-color .2s linear, opacity .2s linear;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  height: 15px;\n  /* there must be 'bottom' or 'top' for ps__rail-x */\n  bottom: 0px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__rail-y {\n  display: none;\n  opacity: 0;\n  transition: background-color .2s linear, opacity .2s linear;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  width: 15px;\n  /* there must be 'right' or 'left' for ps__rail-y */\n  right: 0;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps--active-x > .ps__rail-x,\n.ps--active-y > .ps__rail-y {\n  display: block;\n  background-color: transparent;\n}\n\n.ps:hover > .ps__rail-x,\n.ps:hover > .ps__rail-y,\n.ps--focus > .ps__rail-x,\n.ps--focus > .ps__rail-y,\n.ps--scrolling-x > .ps__rail-x,\n.ps--scrolling-y > .ps__rail-y {\n  opacity: 0.6;\n}\n\n.ps .ps__rail-x:hover,\n.ps .ps__rail-y:hover,\n.ps .ps__rail-x:focus,\n.ps .ps__rail-y:focus,\n.ps .ps__rail-x.ps--clicking,\n.ps .ps__rail-y.ps--clicking {\n  background-color: #eee;\n  opacity: 0.9;\n}\n\n/*\n * Scrollbar thumb styles\n */\n.ps__thumb-x {\n  background-color: #aaa;\n  border-radius: 6px;\n  transition: background-color .2s linear, height .2s ease-in-out;\n  -webkit-transition: background-color .2s linear, height .2s ease-in-out;\n  height: 6px;\n  /* there must be 'bottom' for ps__thumb-x */\n  bottom: 2px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__thumb-y {\n  background-color: #aaa;\n  border-radius: 6px;\n  transition: background-color .2s linear, width .2s ease-in-out;\n  -webkit-transition: background-color .2s linear, width .2s ease-in-out;\n  width: 6px;\n  /* there must be 'right' for ps__thumb-y */\n  right: 2px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__rail-x:hover > .ps__thumb-x,\n.ps__rail-x:focus > .ps__thumb-x,\n.ps__rail-x.ps--clicking .ps__thumb-x {\n  background-color: #999;\n  height: 11px;\n}\n\n.ps__rail-y:hover > .ps__thumb-y,\n.ps__rail-y:focus > .ps__thumb-y,\n.ps__rail-y.ps--clicking .ps__thumb-y {\n  background-color: #999;\n  width: 11px;\n}\n\n/* MS supports */\n@supports (-ms-overflow-style: none) {\n  .ps {\n    overflow: auto !important;\n  }\n}\n\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .ps {\n    overflow: auto !important;\n  }\n}\n.scrollbar-container {\n  position: relative;\n  height: 100%; }");var p=function(t){var a=t.className,l=t.sidenav,n=t.tag,r=t.handlers,c=t.wheelSpeed,f=t.wheelPropagation,m=t.swipeEasing,p=t.minScrollbarLength,h=t.maxScrollbarLength,v=t.scrollingThreshold,g=t.useBothWheelAxes,b=t.suppressScrollX,x=t.suppressScrollY,E=t.scrollXMarginOffset,y=t.scrollYMarginOffset,N=t.scrollBarRef,w=t.children,k=d(t,["className","sidenav","tag","handlers","wheelSpeed","wheelPropagation","swipeEasing","minScrollbarLength","maxScrollbarLength","scrollingThreshold","useBothWheelAxes","suppressScrollX","suppressScrollY","scrollXMarginOffset","scrollYMarginOffset","scrollBarRef","children"]),S=s.default(l&&"sidenav-menu",a),C=e.useRef(null);e.useEffect((function(){N&&N(C)}),[N]);var _=u(u({},r),{wheelSpeed:c,wheelPropagation:f,swipeEasing:m,minScrollbarLength:p,maxScrollbarLength:h,scrollingThreshold:v,useBothWheelAxes:g,suppressScrollX:b,suppressScrollY:x,scrollXMarginOffset:E,scrollYMarginOffset:y});return i.default.createElement(o.default,u({className:S,ref:C,component:n,options:_},k),w)};p.defaultProps={tag:"div",handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],wheelSpeed:1,wheelPropagation:!0,swipeEasing:!0,minScrollbarLength:void 0,maxScrollbarLength:void 0,scrollingThreshold:1e3,useBothWheelAxes:!1,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0};var h=i.default.forwardRef((function(e,t){var a=e.className,l=e.maxWidth,n=e.maxHeight,r=e.children,o=d(e,["className","maxWidth","maxHeight","children"]),c=s.default("datatable-inner","table-responsive","ps",a);return i.default.createElement(p,u({style:{overflow:"auto",position:"relative",width:l,height:n},className:c,ref:t},o),r)}));h.defaultProps={tag:"div"};var v=i.default.forwardRef((function(e,t){var a=e.className,l=e.tag,n=e.children,r=d(e,["className","tag","children"]),o=s.default("datatable-pagination",a);return i.default.createElement(l,u({className:o,ref:t},r),n)}));v.defaultProps={tag:"div"};var g=function(t){var a,l=t.className,n=t.size,r=t.contrast,o=t.value,c=t.defaultValue,f=t.id,m=t.labelId,p=t.labelClass,h=t.wrapperClass,v=t.wrapperStyle,g=t.wrapperTag,b=t.label,x=t.onChange,E=t.children,y=t.labelRef,N=t.labelStyle,w=t.inputRef,k=t.textarea,S=t.validation,C=t.invalid,_=t.validationTooltip,T=t.btnClasses,R=t.btnOnClick,O=t.btnRef,L=t.onBlur,P=t.readonly,F=t.btn,W=t.btnType,B=d(t,["className","size","contrast","value","defaultValue","id","labelId","labelClass","wrapperClass","wrapperStyle","wrapperTag","label","onChange","children","labelRef","labelStyle","inputRef","textarea","validation","invalid","validationTooltip","btnClasses","btnOnClick","btnRef","onBlur","readonly","btn","btnType"]),M=e.useRef(null),A=e.useRef(null),V=e.useRef(null),I=e.useRef(null),H=y||M,j=O||A,z=w||(k?I:V),q=e.useState(o||c),D=q[0],X=q[1],Y=e.useState(0),U=Y[0],K=Y[1],G=e.useState(void 0!==o&&o.length>0||(void 0!==c&&c.length)>0),J=G[0],Q=G[1],Z=s.default("form-outline",r&&"form-white",h),$=s.default("form-control",J&&"active",n&&"form-control-"+n,l),ee=s.default("form-label",p),te=s.default(S&&(C?"invalid-"+(_?"tooltip":"feedback"):"valid-"+(_?"tooltip":"feedback")));e.useEffect((function(){var e;H.current&&0!==(null===(e=H.current)||void 0===e?void 0:e.clientWidth)&&K(.8*H.current.clientWidth+8)}),[H,null===(a=H.current)||void 0===a?void 0:a.clientWidth]);var ae=function(){H.current&&K(.8*H.current.clientWidth+8)};e.useEffect((function(){void 0!==o&&(o.length>0?Q(!0):Q(!1))}),[o]),e.useEffect((function(){void 0!==c&&(c.length>0?Q(!0):Q(!1))}),[c]);var le=function(e){X(e.currentTarget.value),x&&x(e)},ne=e.useCallback((function(e){void 0!==D&&D.length>0||void 0!==o&&o.length>0?Q(!0):Q(!1),L&&L(e)}),[D,o,L]);return i.default.createElement(g,{className:Z,style:u({},v)},k?i.default.createElement("textarea",u({readOnly:P,className:$,onBlur:ne,onChange:le,onFocus:ae,defaultValue:c,value:o,id:f,ref:z},B)):i.default.createElement("input",u({readOnly:P,className:$,onBlur:ne,onChange:le,onFocus:ae,value:o,defaultValue:c,id:f,ref:z},B)),b&&i.default.createElement("label",{className:ee,style:N,id:m,htmlFor:f,ref:H},b),S&&i.default.createElement("div",{className:te},S),i.default.createElement("div",{className:"form-notch"},i.default.createElement("div",{className:"form-notch-leading"}),i.default.createElement("div",{className:"form-notch-middle",style:{width:U}}),i.default.createElement("div",{className:"form-notch-trailing"})),F&&i.default.createElement("button",{ref:j,type:W,className:T,onClick:R},F),E)};g.defaultProps={wrapperTag:"div",btnType:"button",readonly:!1};var b=i.default.forwardRef((function(e,t){var a=e.className,l=e.open,n=e.tag,r=e.children,o=d(e,["className","open","tag","children"]),c=s.default("select-dropdown",l&&"open",a);return i.default.createElement(n,u({className:c},o,{ref:t}),r)}));b.defaultProps={tag:"div"};var x=i.default.forwardRef((function(e,t){var a=e.className,l=e.tag,n=e.children,r=d(e,["className","tag","children"]),o=s.default("select-option-icon-container",a);return i.default.createElement(l,u({className:o},r,{ref:t}),n)}));x.defaultProps={tag:"span"};var E=i.default.forwardRef((function(e,t){var a=e.className,l=e.tag,n=e.labelId,r=e.labelClass,o=e.wrapperClass,c=e.wrapperTag,f=e.label,m=e.inline,p=e.btn,h=e.id,v=e.defaultChecked,g=e.checked,b=e.validation,x=e.invalid,E=e.btnColor,y=e.disableWrapper,N=e.toggleSwitch,w=d(e,["className","tag","labelId","labelClass","wrapperClass","wrapperTag","label","inline","btn","id","defaultChecked","checked","validation","invalid","btnColor","disableWrapper","toggleSwitch"]),k="form-check-input",S="form-check-label";p&&(k="btn-check",S=E?"btn btn-"+E:"btn btn-primary");var C=s.default(f&&!p&&"form-check",m&&!p&&"form-check-inline",N&&"form-switch",o),_=s.default(k,a),T=s.default(S,r),R=s.default(b&&(x?"invalid-feedback":"valid-feedback"));return i.default.createElement(i.default.Fragment,null,y?i.default.createElement(i.default.Fragment,null,i.default.createElement(l,u({className:_,type:"checkbox",defaultChecked:v,checked:g,id:h,ref:t},w)),f&&i.default.createElement("label",{className:T,id:n,htmlFor:h},f),b&&i.default.createElement("div",{className:R},b)):i.default.createElement(c,{className:C},i.default.createElement(l,u({className:_,type:"checkbox",defaultChecked:v,checked:g,id:h,ref:t},w)),f&&i.default.createElement("label",{className:T,id:n,htmlFor:h},f),b&&i.default.createElement("div",{className:R},b)))}));E.defaultProps={tag:"input",wrapperTag:"div"};var y=function(t){var a=t.className,l=t.tag,n=t.disabled,r=t.height,o=t.active,c=t.children,f=t.selected,m=t.style,p=t.secondaryText,h=t.text,v=t.revert,g=t.onClick,b=t.multiple,x=d(t,["className","tag","disabled","height","active","children","selected","style","secondaryText","text","revert","onClick","multiple"]),y=s.default(void 0!==a&&(null==a?void 0:a.includes("select-no-results"))?"":"select-option",f&&"selected",n&&"disabled",o&&"active",a),N=e.useState(r),w=N[0],k=N[1],S=e.useState(!1),C=S[0],_=S[1];e.useEffect((function(){p&&void 0===r?k(44):void 0===r&&k(38)}),[p,r]);var T=e.useCallback((function(e){n||(g&&g(e),_(!C))}),[C,n,g]);return e.useEffect((function(){b&&_(!(!f||n))}),[f,n,b]),i.default.createElement(l,u({className:y,style:u({height:w},m),onClick:T},x,{role:"option"}),v?i.default.createElement(i.default.Fragment,null,c,i.default.createElement("div",{className:"select-option-text"},b&&i.default.createElement(E,{label:h,onChange:T,checked:C,disabled:n}),!b&&h,p&&i.default.createElement("span",{className:"select-option-secondary-text"},p))):i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"select-option-text"},b&&i.default.createElement(E,{label:h,onChange:T,checked:C,disabled:n}),!b&&h,p&&i.default.createElement("span",{className:"select-option-secondary-text"},p)),c))};y.defaultProps={tag:"span",revert:!1};var N=function(e){var t=e.className,a=e.tag,l=e.children,n=d(e,["className","tag","children"]),r=s.default("select-option-group",t);return i.default.createElement(a,u({className:r},n,{role:"group"}),l)};N.defaultProps={tag:"div"};var w=function(t){var a=t.className,l=t.tag,n=t.children,r=t.height,o=d(t,["className","tag","children","height"]),c=s.default("select-option-group-label",a),f=e.useState(r),m=f[0],p=f[1];return e.useEffect((function(){void 0===r&&p(38)}),[r]),i.default.createElement(l,u({className:c,style:{height:m}},o),n)};w.defaultProps={tag:"div"};var k=i.default.forwardRef((function(e,t){var a=e.className,l=e.tag,n=e.children,r=d(e,["className","tag","children"]),o=s.default("select-option-icon",a);return i.default.createElement(l,u({className:o},r,{ref:t}),n)}));k.defaultProps={tag:"img"};var S=i.default.forwardRef((function(e,t){var a=e.className,l=e.tag,n=e.children,r=d(e,["className","tag","children"]),o=s.default("select-options-list",a);return i.default.createElement(l,u({className:o},r,{ref:t}),n)}));S.defaultProps={tag:"div"};var C=i.default.forwardRef((function(e,t){var a=e.className,l=e.tag,n=e.children,r=e.maxHeight,o=d(e,["className","tag","children","maxHeight"]),c=s.default("select-options-wrapper",a);return i.default.createElement(l,u({className:c,style:{maxHeight:r}},o,{ref:t}),n)}));C.defaultProps={tag:"div"};m(".select-input-label-active {\n  color: #1266f1 !important;\n}\n");var _=function(t){var a=t.children,n=t.className,r=t.clearBtn,o=t.data,m=t.tag,p=t.tagWrapper,h=t.visibleOptions,v=t.placeholder,E=t.disabled,_=t.search,T=t.getValue,R=t.optgroup,O=t.multiple,L=t.optionSelected,P=t.optionsSelectedLabel,F=t.label,W=t.getData,B=t.selectAllLabel,M=t.noResultLabel,A=t.searchLabel,V=t.size,I=t.validation,H=t.validFeedback,j=t.invalidFeedback,z=t.inputClassName,q=d(t,["children","className","clearBtn","data","tag","tagWrapper","visibleOptions","placeholder","disabled","search","getValue","optgroup","multiple","optionSelected","optionsSelectedLabel","label","getData","selectAllLabel","noResultLabel","searchLabel","size","validation","validFeedback","invalidFeedback","inputClassName"]),D=e.useState(!1),X=D[0],Y=D[1],U=e.useState(""),K=U[0],G=U[1],J=e.useState(!1),Q=J[0],Z=J[1],$=e.useState(!1),ee=$[0],te=$[1],ae=e.useState(""),le=ae[0],ne=ae[1],re=e.useRef(null),ie=e.useState(null),se=ie[0],oe=ie[1],ce=e.useState(o),ue=ce[0],de=ce[1],fe=e.useState(""),me=fe[0],pe=fe[1],he=e.useState(!1),ve=he[0],ge=he[1],be=e.useState([]),xe=be[0],Ee=be[1],ye=e.useState(!1),Ne=ye[0],we=ye[1],ke=e.useState(o),Se=ke[0],Ce=ke[1],_e=e.useState(),Te=_e[0],Re=_e[1],Oe=e.useState(),Le=Oe[0],Pe=Oe[1],Fe=e.useState(ue.findIndex((function(e){return!e.disabled&&e.selected}))),We=Fe[0],Be=Fe[1],Me=e.useRef(null),Ae=e.useState(!1),Ve=Ae[0],Ie=Ae[1],He=e.useRef(null),je=e.useState(0),ze=je[0],qe=je[1],De=e.useState(!1),Xe=De[0],Ye=De[1],Ue=e.useState(!1),Ke=Ue[0],Ge=Ue[1],Je=e.useRef(null),Qe=l.usePopper(Te,Le,{placement:"bottom-start"}),Ze=Qe.styles,$e=Qe.attributes,et=s.default("select-wrapper",n),tt=s.default("select-input",v&&"placeholder-active",ve&&F&&"active",X&&"focused","default"!==V&&"form-control-"+V,z);e.useEffect((function(){var e=[];ue.forEach((function(t){t.selected&&e.push({text:t.text,value:t.value})})),T&&e&&T(O?e:e[0])}),[le]),e.useEffect((function(){Q&&_&&setTimeout((function(){var e;null===(e=He.current)||void 0===e||e.focus()}),100)}),[Q,_]);var at=e.useCallback((function(){null!=Te&&Q&&setTimeout((function(){var e,t=null===(e=Te.parentNode)||void 0===e?void 0:e.parentNode.getBoundingClientRect();G(t.width)}),100)}),[Te,Q]);e.useEffect((function(){var e,t;if(H&&j&&Te){if(H){var a=document.createElement("div");a.classList.add("valid-feedback"),a.innerHTML=H,Te.setAttribute("required","true"),null===(e=Te.parentNode)||void 0===e||e.insertBefore(a,Te.nextSibling)}if(j){var l=document.createElement("div");l.classList.add("invalid-feedback"),l.innerHTML=j,Te.setAttribute("required","true"),null===(t=Te.parentNode)||void 0===t||t.insertBefore(l,Te.nextSibling)}}}),[H,j,Te]),e.useEffect((function(){at()}),[at]);var lt=e.useCallback((function(e){Le&&null!==Le&&X&&Te&&null!==Te&&(Le.contains(e.target)||Te.contains(e.target)?ge(!0):(Y(!1),ge(!1),_&&setTimeout((function(){pe("")}),100)))}),[X,Le,Te,_]),nt=e.useCallback((function(){Y(!X),_&&pe("")}),[X,_]);e.useEffect((function(){if(Ve&&!Q&&void 0!==ze)if(O)Y(!0);else{var e=o.map((function(e,t){return u(u({},e),t===ze?{selected:!0,active:!0}:{selected:!1,active:!1})}));ze<=0?ne(e[0].text):ze>=e.length-1?ne(e[e.length-1].text):ne(e[ze].text);for(var t=[],a=function(a){t.push(u(u({},o[a]),e.find((function(e){return e.text===o[a].text}))))},l=0;l<o.length;l++)a(l);W&&W(t),Ce(t),de(t)}return function(){clearTimeout(undefined)}}),[ze]),e.useEffect((function(){var e,t;return X?(Z(!0),F&&ge(!0),t=setTimeout((function(){te(!0)}),100)):(e=setTimeout((function(){Z(!1)}),100),F&&ge(!1),te(!1)),function(){clearTimeout(e),clearTimeout(t)}}),[X,F]),e.useEffect((function(){if(O)if(Ne){var e=ue.map((function(e){return u(u({},e),{selected:!0,active:!0})}));de(e);var t=e.filter((function(e){return!e.disabled})).map((function(e){return e.text}));Ee(t),ne(t.length+" option"+(t.length<=1?"":"s")+" selected")}else{de(Se);t=Se.filter((function(e){return!e.disabled&&e.selected})).map((function(e){return e.text}));Ee(t),ne(t.length+" option"+(t.length<=1?"":"s")+" selected")}}),[Ne]),e.useEffect((function(){O&&(xe.length>=Number(L)?ne(P||xe.length+" option"+(xe.length<=1?"":"s")+" selected"):ne(xe.join(", ")))}),[xe,O,L,P]),e.useEffect((function(){if(R){var e=o.reduce((function(e,t){var a=t.group.data.map((function(e){return void 0===e.selected?u(u({},e),{selected:!1}):e}));return t.group.data=a,e.push(t),e}),[]),t=e.map((function(e){return e.group.data.filter((function(e){return!0===e.selected}))})).flat();t.length>0&&(de(e),ne(t[0].text))}else if(O){l=o.map((function(e){return void 0===e.selected?u(u({},e),{active:!1,selected:!1}):u(u({},e),{active:!0})}));de(l);var a=Se.filter((function(e){return!0===e.selected&&!e.disabled})).map((function(e){return e.text}));Ee(a),xe.length>=Number(L)?ne(xe.length+" option"+(xe.length<=1?"":"s")+" selected"):ne(xe.join(", "))}else{var l,n=(l=ue.map((function(e){return void 0===e.selected?u(u({},e),{active:!1,selected:!1}):u(u({},e),{active:!0})}))).filter((function(e){return!0===e.selected&&!e.disabled}));n.length>0&&(de(l),ne(n[0].text)),W&&W(l)}}),[]),e.useEffect((function(){return Q&&window.addEventListener("resize",at),function(){window.removeEventListener("resize",at)}}),[at,Q]),e.useEffect((function(){return Q&&window.addEventListener("click",lt),function(){window.removeEventListener("click",lt)}}),[lt,Q]),e.useEffect((function(){var e,t;return X?(Z(!0),F&&ge(!0),t=setTimeout((function(){te(!0)}),100)):(e=setTimeout((function(){Z(!1)}),100),F&&ge(!1),te(!1)),function(){clearTimeout(e),clearTimeout(t)}}),[X,F]);var rt=e.useCallback((function(e,t,a){return void 0===a&&(a=h),f([],e).slice(0,a).forEach((function(e){var a=getComputedStyle(e).height;t.push(parseFloat(a))})),t}),[h]);e.useEffect((function(){var e,t;if(Q){var a=null===(e=re.current)||void 0===e?void 0:e.children,l=[];t=setTimeout((function(){if(void 0!==a){if(R){var e=[];f([],a).map((function(t){var a=t.children;e.push.apply(e,a)})),rt(e,l)}else rt(a,l);oe(l.reduce((function(e,t){return e+t})))}}),0)}return function(){clearTimeout(t)}}),[Q,h,R,rt]);var it=e.useCallback((function(e,t){var a=e.disabled,l=e.className,n=e.text,r=e.selected;if(!(a||void 0!==l&&l.includes("select-no-results")))if(O)ue[t].selected=!ue[t].selected,de(ue),Ce(ue),void 0===n||r&&void 0!==r?void 0!==n&&r&&Ee(xe.filter((function(e){return e!==n}))):Ee(f(f([],xe),[n]));else{Be(t),ne(n),Y(!1);for(var i=ue.map((function(e,a){return a!==t?(e.selected=!1,e.active=!1):(e.selected=!0,e.active=!0),e})),s=o.map((function(e){return u(u({},e),{active:!1,selected:!1})})),c=[],d=function(e){c.push(u(u({},s[e]),i.find((function(t){return t.text===s[e].text}))))},m=0;m<s.length;m++)d(m);de(c),Ce(c),W&&W(c)}}),[o,ue,W,O,xe]),st=e.useCallback((function(e,t,a){var l=0;return a?((l=e-1)<0&&(l=0),t[l].disabled&&(l=st(l,t,!0))):((l=e+1)>t.length-1&&(l=t.length-1),t[l].disabled&&(l=st(l,t,!1))),l}),[]),ot=e.useCallback((function(e){var t=e.key;if("Escape"===t||"ArrowDown"===t||"ArrowUp"===t||"Enter"===t){var a,l,n;if(e.preventDefault(),"Escape"===t&&(a=setTimeout((function(){Z(!1),_&&pe("")}),100),Y(!1),te(!1)),"ArrowDown"===t){var r=Q?ue.findIndex((function(e){return e.active})):ue.findIndex((function(e){return e.selected})),i=st(r,ue,!1);Q?(Ye(!1),Ge(!0),Be(i)):qe(i)}if("ArrowUp"===t){r=Q?ue.findIndex((function(e){return e.active})):ue.findIndex((function(e){return e.selected})),i=st(r,ue,!0);Q?(Ye(!0),Ge(!1),Be(i)):qe(i)}if("Enter"===t)if(Q)if(O){r=ue.findIndex((function(e){return e.active}));it(ue[r],r)}else{n=setTimeout((function(){Z(!1),_&&pe("")}),100);var s=ue.filter((function(e){return e.active&&!e.disabled}))[0],o=ue.findIndex((function(e){return e.active&&!e.disabled})),c=Se.map((function(e,t){return u(u({},e),t===o?{selected:!0}:{selected:!1})}));ne(s.text),Y(!1),te(!1),de(c),Ce(c)}else l=setTimeout((function(){Z(!0),Y(!0),te(!0)}),100);return function(){clearTimeout(a),clearTimeout(l),clearTimeout(n)}}}),[_,ue,O,it,Se,Q,st]);e.useEffect((function(){var e,t=Je.current;if(null!==re){var a=[],l=[];if(Q){var n=null===(e=re.current)||void 0===e?void 0:e.children;setTimeout((function(){if(rt(n,a,o.length),rt(n,l,We),0!==l.length){var e=l.reduce((function(e,t){return e+t}));null!==se&&null!==t&&e>se&&(t.scrollTop=e)}}),100)}}}),[Q,We]),e.useEffect((function(){var e,t=Je.current;if(null!==re){var a=[],l=[];if(Q){var n=null===(e=re.current)||void 0===e?void 0:e.children;setTimeout((function(){rt(n,a,o.length),rt(n,l,We+2);var e=a.reduce((function(e,t){return e+t})),r=l.reduce((function(e,t){return e+t})),i=ue.map((function(e,t){return u(u({},e),t===We?{active:!0}:{active:!1})}));de(i),null!==se&&null!==t&&(Ke&&(t.scrollTop=r>se?r-se:0),Xe&&(t.scrollTop=r<=se?r-76:e))}),100)}}}),[Q,o,Ke,Xe,rt,We,se]),e.useEffect((function(){return Ve&&window.addEventListener("keydown",ot),function(){window.removeEventListener("keydown",ot)}}),[Ve,ot]),e.useEffect((function(){if(O){var e=ue.filter((function(e){return e.selected&&!e.disabled})),t=ue.filter((function(e){return!e.disabled}));e.length!==t.length?we(!1):we(!0)}}),[ue,O]);return e.useMemo((function(){if(Q&&_&&!R){var e=Se.filter((function(e){return e.text.toLowerCase().includes(me.toLowerCase())}));0===e.length?de([{text:M,className:"select-no-results"}]):de(e)}}),[Q,Se,_,R,M,me]),i.default.createElement(m,{className:et,ref:Me},i.default.createElement(g,u({onFocus:function(){return Ie(!0)},onBlur:function(){return Ie(!1)},value:le,className:tt,labelClass:s.default(X?"select-input-label-active":"","select-label"),inputRef:Re,onClick:nt,readOnly:!I,required:I,placeholder:v,disabled:E,wrapperStyle:{zIndex:0},label:F,"aria-expanded":!!Q,"aria-disabled":!!E,"aria-haspopup":!0,role:"listbox"},q),void 0!==le&&le.length>0&&r&&i.default.createElement("span",{className:"select-clear-btn d-block",role:"button",onClick:function(){ne(""),ge(!1),de(o.map((function(e){return u(u({},e),{active:!1,selected:!1})}))),Ce(o.map((function(e){return u(u({},e),{active:!1,selected:!1})})))}},"✕"),i.default.createElement("span",{className:"select-arrow",style:{zIndex:-1}})),Q&&c.default.createPortal(i.default.createElement(p,u({style:u(u({},Ze.popper),{width:K,zIndex:1070})},$e.popper,{ref:Pe}),i.default.createElement(b,{open:ee},_&&i.default.createElement("div",{className:"input-group"},i.default.createElement(g,{wrapperStyle:{width:"100%"},className:"select-filter-input placeholder-active",placeholder:A,role:"searchbox",type:"text",onKeyDown:ot,onChange:function(e){pe(e.target.value)},value:me,inputRef:He})),i.default.createElement(C,{ref:Je,maxHeight:se},i.default.createElement(S,{ref:re},O&&i.default.createElement(y,{onClick:function(){we(!Ne)},selected:Ne,height:38,text:B,multiple:!0}),R?ue.map((function(e,t){var a=e.group;if(null!=a)return i.default.createElement(N,{key:a.text+t},i.default.createElement(w,{height:a.height},a.text),a.data.map((function(e,t){return i.default.createElement(y,{onClick:function(){return function(e){if(!(e.disabled||void 0!==e.className&&e.className.includes("select-no-results"))){ne(e.text),Y(!1);var t=o.reduce((function(t,a){var l=a.group.data.map((function(t){return t.text!==e.text?t.selected=!1:t.selected=!0,t}));return a.group.data=l,t.push(a),t}),[]);de(t),Ce(t)}}(e)},active:e.active,"data-value":e.value,style:e.style,className:e.className,height:e.height,selected:e.selected,key:e.text+t,disabled:e.disabled,secondaryText:e.secondaryText,text:e.text,revert:e.revert})})))})):ue.map((function(e,t){return i.default.createElement(y,{onClick:function(){return it(e,t)},onChange:function(){return it(e,t)},"data-value":e.value,active:e.active,className:e.className,height:e.height,style:e.style,selected:e.selected,key:e.text+t,disabled:e.disabled,secondaryText:e.secondaryText,text:e.text,revert:e.revert,multiple:O},e.icon&&i.default.createElement(x,null,"object"!=typeof e.icon||e.icon.constructor!==Object||i.default.isValidElement(e.icon)?e.icon:i.default.createElement(k,{className:e.icon.className,src:e.icon.src?e.icon.src:""},e.icon.text)))})),a&&i.default.createElement("div",{className:"select-custom-content"},a))))),document.body))};_.defaultProps={noResultLabel:"No results",optionSelected:"5",searchLabel:"Search...",selectAllLabel:"Select all",tag:"div",tagWrapper:"div",visibleOptions:5,size:"default",validation:!1};var T=function(e){var t,a=e.className,l=e.icon,n=e.fab,r=e.fas,o=e.fal,c=e.far,f=e.flag,m=e.spin,p=e.fixed,h=e.flip,v=e.list,g=e.size,b=e.pull,x=e.pulse,E=e.color,y=e.border,N=e.rotate,w=e.inverse,k=e.stack,S=e.children,C=d(e,["className","icon","fab","fas","fal","far","flag","spin","fixed","flip","list","size","pull","pulse","color","border","rotate","inverse","stack","children"]);t=f?"flag":n?"fab":r?"fas":c?"far":o?"fal":"fa";var _=s.default(t,f?"flag-"+f:l&&"fa-"+l,g&&"fa-"+g,E&&"text-"+E,y&&"fa-border",N&&"fa-rotate-"+N,b&&"fa-pull-"+b,m&&"fa-spin",v&&"fa-li",p&&"fa-fw",x&&"fa-pulse",w&&"fa-inverse",h&&"fa-flip-"+h,k&&"fa-stack-"+k,a);return i.default.createElement("i",u({className:_},C),S)},R=i.default.forwardRef((function(t,a){var l=t.className,n=t.classNameResponsive,r=t.tag,o=t.responsive,c=t.align,f=t.borderColor,m=t.bordered,p=t.borderless,h=t.children,v=t.color,g=t.hover,b=t.small,x=t.striped,E=d(t,["className","classNameResponsive","tag","responsive","align","borderColor","bordered","borderless","children","color","hover","small","striped"]),y=s.default("table",c&&"align-"+c,f&&"border-"+f,m&&"table-bordered",p&&"table-borderless",v&&"table-"+v,g&&"table-hover",b&&"table-sm",x&&"table-striped",l),N=e.useMemo((function(){return i.default.createElement(r,u({className:y,ref:a},E),h)}),[r,h,y,E,a]);if(o){var w=s.default("string"==typeof o?"table-responsive-"+o:"table-responsive",n);return i.default.createElement("div",{className:w},N)}return N}));R.defaultProps={tag:"table"};var O=i.default.forwardRef((function(e,t){var a=e.className,l=e.tag,n=e.children,r=e.dark,o=e.light,c=d(e,["className","tag","children","dark","light"]),f=s.default(r&&"table-dark",o&&"table-light",a);return i.default.createElement(l,u({className:f,ref:t},c),n)}));O.defaultProps={tag:"thead"};var L=i.default.forwardRef((function(e,t){var a=e.className,l=e.tag,n=e.children,r=d(e,["className","tag","children"]),o=s.default(a);return i.default.createElement(l,u({className:o,ref:t},r),n)}));L.defaultProps={tag:"tbody"};var P=i.default.forwardRef((function(e,t){var a=e.className,l=e.children,n=e.noWrap,r=e.tag,o=e.size,c=d(e,["className","children","noWrap","tag","size"]),f=s.default("input-group",n&&"flex-nowrap",o&&"input-group-"+o,a);return i.default.createElement(r,u({className:f,ref:t},c),l)}));P.defaultProps={tag:"div",noWrap:!1};var F=function(t){var a=t.className,l=t.textarea,n=t.inputRef,r=d(t,["className","textarea","inputRef"]),o=s.default("form-control",a),c=e.useRef(null),f=n||c;return i.default.createElement(i.default.Fragment,null,l?i.default.createElement("textarea",u({className:o,ref:f},r)):i.default.createElement("input",u({className:o,ref:f},r)))},W=function(t){var a=t.advancedSearch,l=t.advancedData,n=t.className,r=t.bordered,o=t.borderless,c=t.borderColor,m=t.clickableRows,p=t.color,b=t.dark,x=t.datatableRef,y=t.entries,N=t.entriesOptions,w=t.fixedHeader,k=t.fullPagination,S=t.hover,C=t.format,W=t.loaderClass,B=t.loading,M=t.loadingMessage,A=t.maxWidth,V=t.maxHeight,I=t.multi,H=t.noFoundMessage,j=t.pagination,z=t.selectable,q=t.selectedRows,D=t.setSelectedRows,X=t.sortField,Y=t.sortOrder,U=t.sm,K=t.striped,G=t.rowsText,J=t.data,Q=t.tag,Z=t.search,$=d(t,["advancedSearch","advancedData","className","bordered","borderless","borderColor","clickableRows","color","dark","datatableRef","entries","entriesOptions","fixedHeader","fullPagination","hover","format","loaderClass","loading","loadingMessage","maxWidth","maxHeight","multi","noFoundMessage","pagination","selectable","selectedRows","setSelectedRows","sortField","sortOrder","sm","striped","rowsText","data","tag","search"]),ee=s.default("datatable",S&&"datatable-hover",B&&"datatable-loading",p&&"bg-"+p,b&&"datatable-dark",r&&"datatable-bordered",o&&"datatable-borderless",c&&"border-"+c,K&&"datatable-striped",U&&"datatable-sm",n),te=e.useState(J.rows),ae=te[0],le=te[1],ne=e.useState({phrase:"",columns:void 0,clickedBtn:!1}),re=ne[0],ie=ne[1],se=e.useState(0),oe=se[0],ce=se[1],ue=e.useState(y||10),de=ue[0],fe=ue[1],me=e.useState({iconStyle:{transform:"rotate(0deg)"},activeColumn:""}),pe=me[0],he=me[1],ve=e.useRef(null),ge=x||ve,be=function(e){ie(u(u({},re),{phrase:e.target.value}))},xe=function(){return Math.floor(1e3*Math.random())},Ee=oe*de+1+" - "+((oe+1)*de>J.rows.length?J.rows.length:(oe+1)*de)+" of "+J.rows.length,ye=function(e){var t=pe.activeColumn,a=pe.iconStyle;e===t&&"rotate(0deg)"===a.transform?he({activeColumn:e,iconStyle:{transform:"rotate(180deg)"}}):e===t&&"rotate(180deg)"===a.transform?he({activeColumn:"",iconStyle:{transform:"rotate(0deg)"}}):he({activeColumn:e,iconStyle:{transform:"rotate(0deg)"}})};e.useEffect((function(){X&&he("desc"===Y?{activeColumn:X,iconStyle:{transform:"rotate(180deg)"}}:{activeColumn:X,iconStyle:{transform:"rotate(0deg)"}})}),[X,Y]),e.useEffect((function(){var e=function(e,t,a){if(!t)return e;var l=function(e){return e.toString().toLowerCase().match(t.toLowerCase())};return e.filter((function(e){if(a&&"string"==typeof a)return l(e[a]);var t=Object.values(e);return a&&Array.isArray(a)&&(t=Object.keys(e).filter((function(e){return a.includes(e)})).map((function(t){return e[t]}))),t.filter((function(e){return l(e)})).length>0}))},t=pe.activeColumn,n=pe.iconStyle,r=re.phrase,i=re.columns,s=re.clickedBtn,o=l?J.columns.find((function(e){return e.label===t})):J.columns.indexOf(t);if(t){var c=function(e,t,a){return Object.assign([],e).sort((function(e,l){var n=e[t],r=l[t];return n<r?"desc"===a?1:-1:n>r?"desc"===a?-1:1:0}))}(J.rows,l?o.field:o,"rotate(0deg)"===n.transform?"asc":"desc");r?a&&s?(le(e(c,r,i)),ie(u(u({},re),{clickedBtn:!1}))):a||le(e(c,r,i)):le(c)}else r?a&&s?(le(e(J.rows,r,i)),ie(u(u({},re),{clickedBtn:!1}))):a||le(e(J.rows,r,i)):le(J.rows)}),[pe,J.rows,re,a,l,J.columns]),e.useEffect((function(){ce(0)}),[de]);var Ne=i.default.createElement(i.default.Fragment,null,J.columns.map((function(e,t){return i.default.createElement("th",{className:w?"fixed-cell":"",key:"item-"+xe()+"-"+t,style:{cursor:"pointer"},scope:"row",onClick:function(){return ye(e)}},i.default.createElement(T,{fas:!0,icon:"arrow-up",className:s.default("datatable-sort-icon",""+(e===pe.activeColumn&&"active")),style:e===pe.activeColumn?pe.iconStyle:{transform:"rotate(0deg)"}}),e)}))),we=i.default.createElement(i.default.Fragment,null,J.columns.map((function(e,t){var a={cursor:!1!==e.sort?"pointer":void 0},l={left:"left"===e.fixed?e.fixedValue?e.fixedValue:0:void 0,right:"right"===e.fixed?e.fixedValue?e.fixedValue:0:void 0};return i.default.createElement("th",{className:w||e.fixed?"fixed-cell":"",key:"item-"+xe()+"-"+t,style:u(u({},a),l),scope:"row",onClick:function(){return!1!==e.sort&&ye(e.label)}},!1!==e.sort&&i.default.createElement(T,{fas:!0,icon:"arrow-up",className:s.default("datatable-sort-icon",""+(e.label===pe.activeColumn&&"active")),style:e.label===pe.activeColumn?pe.iconStyle:{transform:"rotate(0deg)"}}),e.label)})));return i.default.createElement(i.default.Fragment,null,Z&&i.default.createElement(g,{value:re.phrase,onChange:be,label:"Search",className:"mb-4"}),a&&i.default.createElement(P,{className:"mb-4"},i.default.createElement(F,{placeholder:"phrase in:column1,column2",value:re.phrase,onChange:be}),i.default.createElement("button",{onClick:function(){return ie(u(u({},a(re.phrase)),{clickedBtn:!0}))},className:"btn btn-primary",type:"button"},i.default.createElement(T,{icon:"search"}))),i.default.createElement(Q,u({className:ee,ref:ge,style:{maxWidth:A&&A}},$),i.default.createElement(h,{maxWidth:A,maxHeight:V},i.default.createElement(R,{className:" datatable-table"},i.default.createElement(O,{className:"datatable-header"},i.default.createElement("tr",null,z&&i.default.createElement("th",null,I&&i.default.createElement(E,{className:w?"fixed-cell":"",onChange:function(e){e.target.checked?D(Array.from({length:J.rows.length},(function(e,t){return t}))):D([])}})),l?we:Ne)),i.default.createElement(L,{className:"datatable-body"},ae.map((function(e,t){var a=J.rows.indexOf(e);if(function(e){return oe*de<=e&&e<(oe+1)*de}(t))return i.default.createElement("tr",{style:{cursor:m&&"pointer"},onClick:function(t){return function(e,t){"INPUT"===e.target.nodeName||e.target.classList.contains("datatable-disable-onclick")||m&&m(t)}(t,e)},className:q&&q.includes(a)?"active":"",key:"item-"+xe()+"-"+t},z&&i.default.createElement("td",null,i.default.createElement(E,{checked:q&&q.includes(a),onChange:function(){return function(e){q&&(I?q.includes(e)?D(q.filter((function(t){return t!==e}))):D(f(f([],q),[e])):q.includes(e)?D([]):D([e]))}(a)}})),l?function(e){return i.default.createElement(i.default.Fragment,null,J.columns.map((function(t,a){var l=C&&C(t.field,e[t.field]),n={minWidth:t.width,maxWidth:t.width,left:"left"===t.fixed&&(t.fixedValue?t.fixedValue:0),right:"right"===t.fixed&&(t.fixedValue?t.fixedValue:0)};return i.default.createElement("td",{className:t.fixed&&"fixed-cell",style:u(u({},l),n),key:"item-"+xe()+"-"+a},e[t.field])})))}(e):function(e){return i.default.createElement(i.default.Fragment,null,e.map((function(e,t){return i.default.createElement("td",{key:"item-"+xe()+"-"+t},e)})))}(e))})),0===ae.length&&!B&&i.default.createElement("tr",{className:"datatable-results-info"},i.default.createElement("td",null,H))))),B&&i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"datatable-loader bg-light}"},i.default.createElement("span",{className:"datatable-loader-inner"},i.default.createElement("span",{className:s.default("datatable-progress",W)}))),i.default.createElement("p",{className:"text-center text-muted my-4"},M)),j&&i.default.createElement(v,null,i.default.createElement("div",{className:"datatable-select-wrapper"},i.default.createElement("p",{className:"datatable-select-text"},G),i.default.createElement(_,{getValue:function(e){fe(e.value)},data:N&&N.map((function(e,t){return{text:e.toString(),value:e,selected:0===t&&!0}})),disabled:B})),i.default.createElement("div",{className:"datatable-pagination-nav"},Ee),i.default.createElement("div",{className:"datatable-pagination-buttons"},k&&i.default.createElement("button",{disabled:0===oe||B,onClick:function(){return ce(0)},className:"btn btn-link datatable-pagination-button datatable-pagination-start"},i.default.createElement(T,{icon:"angle-double-left"})),i.default.createElement("button",{disabled:0===oe||B,onClick:function(){return ce(oe-1)},className:"btn btn-link datatable-pagination-button datatable-pagination-left"},i.default.createElement(T,{icon:"chevron-left"})),i.default.createElement("button",{disabled:ae.length<=de*(oe+1)||B,onClick:function(){return ce(oe+1)},className:"btn btn-link datatable-pagination-button datatable-pagination-right"},i.default.createElement(T,{icon:"chevron-right"})),k&&i.default.createElement("button",{disabled:oe===Math.floor(ae.length/de),onClick:function(){return ce(Math.floor(ae.length/de))},className:"btn btn-link datatable-pagination-button datatable-pagination-end"},i.default.createElement(T,{icon:"angle-double-right"}))))))};W.defaultProps={tag:"div",bordered:!1,borderless:!1,borderColor:"",clickableRows:!1,color:"",dark:!1,defaultValue:"-",entries:10,entriesOptions:[10,25,50,200],fixedHeader:!1,fullPagination:!1,hover:!1,loaderClass:"bg-primary",loading:!1,loadingMessage:"Loading results...",maxWidth:"",maxHeight:"",multi:!1,noFoundMessage:"No matching results found",pagination:!0,selectable:!1,sm:!1,striped:!1,rowsText:"Rows per page:",sortOrder:"asc",sortField:""},module.exports=W;
