"use strict";var e=require("clsx"),t=require("react");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=n(e),i=n(t),r=function(){return r=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};var o=function(e){var n=e.animation,o=e.animationRef,l=e.delay,u=e.infinite,s=e.duration,c=e.enableTarget,f=e.target,m=e.repeatOnScroll,d=e.reset,y=e.setTarget,p=e.start,g=e.className,b=e.tag,v=e.children,O=e.style,E=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n}(e,["animation","animationRef","delay","infinite","duration","enableTarget","target","repeatOnScroll","reset","setTarget","start","className","tag","children","style"]),h=t.useState(f),w=h[0],C=h[1],S=t.useState(!1),T=S[0],j=S[1],D=t.useRef(!0),N=a.default(w&&"animation",w&&n,g),I=t.useRef(null),P=o||I,R=function(){C(!w)},k=t.useCallback((function(){if(P.current){var e=P.current.getBoundingClientRect().top+document.body.scrollTop,t=P.current.offsetHeight,n=e<=window.innerHeight&&e+t>=0;n&&D.current?(D.current=!1,l?setTimeout((function(){C(!0),j(!0)}),l):(C(!0),j(!0))):!n&&m&&(j(!1),D.current=!0)}}),[P,m,l]);return t.useEffect((function(){return"onScroll"===p&&window.addEventListener("scroll",k),function(){window.removeEventListener("scroll",k)}}),[k,p]),t.useEffect((function(){C(f)}),[f]),t.useEffect((function(){"onLoad"===p&&C(!0)}),[p]),t.useEffect((function(){w&&!u&&d&&setTimeout((function(){C(!w),c&&y(!1)}),s)}),[w,s,c,y,u,d]),i.default.createElement(i.default.Fragment,null,"onClick"===p&&!1===c&&i.default.createElement(b,r({onClick:R,className:N,ref:P},E,{style:r(r({},O),{animationDuration:s+"ms",animationIterationCount:u?"infinite":null,animationDelay:l?l+"ms":null})}),v),"onHover"===p&&!1===c&&i.default.createElement(b,r({onMouseEnter:R,className:N,ref:P},E,{style:r(r({},O),{animationDuration:s+"ms",animationIterationCount:u?"infinite":null,animationDelay:l?l+"ms":null})}),v),("onLoad"===p||!0===c)&&i.default.createElement(b,r({className:N,ref:P},E,{style:r(r({},O),{animationDuration:s+"ms",animationIterationCount:u?"infinite":null,animationDelay:l?l+"ms":null})}),v),"onScroll"===p&&i.default.createElement(b,r({className:N,ref:P},E,{style:r(r({},O),{animationDuration:s+"ms",visibility:T?"visible":"hidden",animationIterationCount:u?"infinite":null})}),v))};o.defaultProps={tag:"div",start:"onClick",duration:500,reset:!1,animation:"slide-right",target:!1,enableTarget:!1,repeatOnScroll:!1,infinite:!1},module.exports=o;
